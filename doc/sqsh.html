<html>
<head>
<meta name="generator" content="groff -Thtml, see www.gnu.org">
<meta name="Content-Style" content="text/css">
<title></title>
</head>
<body>

<hr>
<!-- Creator     : groff version 1.17.2 -->
<!-- CreationDate: Tue Oct 23 12:43:39 2001 -->

<p>SunOS 5.8 1</p>

<p>User Commands SQSH(1)</p>
<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
SunOS 5.8 Last change: 04 Sep 1999 1</td></table>

<p>User Commands SQSH(1)</p>


<p><b><small>NAME</small></b><table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
sqsh - Interactive database shell</td></table>
</p>

<p><b><small>SYNOPSIS</small>sqsh
[</b><table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<i>options</i><b>] [</b><i>args</i><b>...]</b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="15%"></td><td width="85%">
[ <b>-a</b> <i>count</i> ]<br>
[ <b>-A</b> <i>packet_size</i> ]<br>
[ <b>-b</b> ]<br>
[ <b>-B</b> ]<br>
[ <b>-c</b> <i>[cmdend]</i> ]<br>
[ <b>-C</b> <i>sql</i> ]<br>
[ <b>-d</b> <i>severity</i> ]<br>
[ <b>-D</b> <i>database</i> ]<br>
[ <b>-e</b> ]<br>
[ <b>-E</b> <i>editor</i> ]<br>
[ <b>-f</b> <i>severity</i> ]<br>
[ <b>-h</b> ]<br>
[ <b>-i</b> <i>filename</i> ]<br>
[ <b>-H</b> <i>hostname</i> ]<br>
[ <b>-I</b> <i>interfaces</i> ]<br>
[ <b>-J</b> <i>charset</i> ]<br>
[ <b>-k</b> <i>keywords</i> ]<br>
[ <b>-l</b> <i>debug_flags</i> ]<br>
[ <b>-L</b> <i>var=value</i> ]<br>
[ <b>-m</b> <i>style</i> ]<br>
[ <b>-o</b> <i>filename</i> ]<br>
[ <b>-p</b> ]<br>
[ <b>-P</b> <i>[password]</i> ]<br>
[ <b>-r</b> <i>[sqshrc[:sqshrc ...]]</i> ]<br>
[ <b>-s</b> <i>colsep</i> ]<br>
[ <b>-S</b> <i>server</i> ]<br>
[ <b>-t</b> <i>[filter]</i> ]<br>
[ <b>-U</b> <i>username</i> ]<br>
[ <b>-v</b> ]<br>
[ <b>-w</b> <i>width</i> ]<br>
[ <b>-X</b> ]<br>
[ <b>-y</b> <i>directory</i> ]<br>
[ <b>-z</b> <i>language</i> ]</td></table>
</p>

<p><b><small>DESCRIPTION</small>Sqsh</b>
<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
(pronounced skwish) is short for <b>SQ</b>shel<b>L</b>
(pronounced s- q-shell), and is intended as a replacement
for the venerable `isql' program supplied by Sybase. It came
about due to years of frustration of trying to do real work
with a program that was never meant to perform real
work.</td></table>
</p>
<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<i>Sqsh</i> is much more than a nice prompt, it is intended to provide much of the functionality provided by a good shell, such as variables, aliasing, redirection, pipes, back- grounding, job control, history, command substitution, and dynamic configuration. Also, as a by-product of the design, it is remarkably easy to extend and add functionality.</td></table>


<p><b><small>OPTIONS</small></b><table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
The following options may be used to adjust some of the
behavior of <i>sqsh</i>, however a large portion of the
configuration options are available only through environment
variables which may be set at runtime or via a .sqshrc
file.</td></table>
</p>
<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
Options may also be supplied in the <b>SQSH</b> environment variable. This variable is parsed prior to parsing the command line, so in most cases the command line will override the contents of the variable. Be aware that for options which are allowed to supplied multiple times, such as <b>-c</b>, supplying them both in a variable and on the command line will be the same as supplying them multiple times on the command line.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>-a</b> <i>count</i> Sets the maximum <i>count</i> of
failures (as determined by the <b>$thresh_fail</b> variable)
that may occur before <i>sqsh</i> will abort. Setting this
to 0 indicates that <i>sqsh</i> should not exit on errors.
This value defaults to 0 and may also be set using the
<b>$thresh_exit</b> variable. See section <b>EXIT STATUS</b>
for details.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>-A</b> <i>packetsize</i> Specifies the size of the
network TDS packets used to communicate with the SQL server.
This value must be between 512 and 2048, and be a multiple
of 512. Check your SQL Server configuration to determine
supported packet sizes. This value may also be specified at
run-time using the <b>$packet_size</b>
variable.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>-b</b> Suppress the banner message upon startup. This is
unnecessary in cases where stdout has been redirected to a
file. This option may also be set via the <b>$banner</b>
variable.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>-B</b> Turns off all buffering of stdin, stdout, and
stderr. This feature allows sqsh to be run from an
interactive control script such as chat and
expect.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>-c [</b><i>cmdend</i><b>]</b> Internally <i>sqsh</i>
provides the command <b>go</b> to send a batch of SQL to the
database and provides a single alias, <b>go</b> for this
command. Each time <i>cmdend</i> is supplied a new alias for
<b>go</b> is established.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>-C</b> <i>sql</i> Causes the <i>sql</i> command to issued
by sqsh, similar to the same behavior exhibited by the
<b>-i</b> flag. This <i>sql</i> statment may not contain
double quotes (this limitation will be lifted in future
releases of sqsh).</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>-d</b> <i>severity</i> Sets the minimum SQL Server error
severity that will be displayed to the user. The default is
0, and valid ranges are from 0 to 22. This may also be set
using the <b>$thresh_display</b> variable. See section
<b>EXIT STATUS</b>.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>-D</b> <i>database</i> Causes <i>sqsh</i> to attempt to
start with your database context set to <i>database</i>
rather than your default database (usually master). This may
also be set using the <b>$database</b>
variable.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>-e</b> Includes each command issued to <i>sqsh</i> to be
included in the output. This option may also be set via the
<b>$echo</b> variable (which is unrelated to the <b>echo</b>
command).</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>-E</b> <i>editor</i> Set the default editor to
<i>editor</i>. This may also be set using the UNIX
environment variable <b>$EDITOR</b> to the name of the
editor desired.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>-f</b> <i>severity</i> Sets the minimum <i>severity</i>
level considered a failure by <i>sqsh</i>. This is the same
as setting the <b>$thresh_fail</b> variable. See section
<b>EXIT STATUS</b> for details.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>-h</b> Turns off column headers and trailing &quot;(#
rows affected)&quot; from batch output.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>-i</b> <i>filename</i> Read all input from
<i>filename</i> rather than from stdin.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>-H</b> <i>hostname</i> Sets the client hostname as
reported in sysprocesses. This may also be set via the
<b>$hostname</b> variable.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>-I</b> <i>interfaces</i> When a connection is established
to the database, the <i>interfaces</i> file is used to turn
the value of <b>$DSQUERY</b> into the hostname and port to
which the connection will be made, by default this is
located in <b>$SYBASE</b>/interfaces. This flag allows this
default to be overridden.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>-J</b> <i>charset</i> Specifies the character set to be
used on the client side to communicate with SQL Server. This
may also be set using the <b>$charset</b> environment
variable.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>-k</b> <i>keywords</i> Specifies a file containing a list
of keywords to be used for keyword tab completion, if
readline support has been compiled into <i>sqsh</i>. This
file may also be set via the <b>$keyword_file</b> variable,
which defaults to <b>$HOME/.sqsh_words</b>.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>-l</b> <i>debug_flags</i> If <i>sqsh</i> has been
compiled with -DDEBUG, this option may be used to turn on
and off debugging options. See the <b>$debug</b> variable,
below.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>-L</b> <i>var</i><b>=</b><i>value</i> Sets the value of
<b>$var</b> to <i>value</i>. This may be used to set the
value of any <i>sqsh</i> variable even if an explicit
command line variable is supplied for setting the variable.
The <b>-L</b> flag may be used to set the value of non-
configuration variables as well.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>-m</b> <i>style</i> Changes the current display style to
<i>style</i>. Currently supported styles are <b>horiz</b>,
<b>vert</b>, <b>bcp</b>, <b>html</b>, <b>meta</b>,
<b>pretty</b> and <b>none</b>. The current display style may
also be set using the <b>$style</b> variable or via the
<b>-m</b> flag to the <b>go</b> command.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>-o</b> <i>filename</i> Redirects all output to
<i>filename</i> rather than stdout.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>-p</b> Display performance statistics upon completion of
every SQL batch. This option may also be turned on via the
<b>$statistics</b> variable, or by supplying the <b>-p</b>
flag to the <b>go</b> command.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>-P [</b><i>password</i><b>]</b> The Sybase
<i>password</i> for <i>username</i> required to connect to
<i>server</i> (default, NULL). The <i>password</i> may also
be set via <b>$password</b>. Supplying a password of `-'
causes the password to be read from the first line of
stdin.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
It should be noted that supplying your password on the
command line is somewhat of a security hole, as any other
user may be able to discover your password using
<b>ps(1)</b>. It is recommended that your default password
be stored in a .sqshrc file which is not readable by anyone
other than yourself.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>-r [</b><i>sqshrc[:sqshrc ...]</i><b>]</b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="30%"></td><td width="70%">
Specifies an alternate .<i>sqshrc</i> file to be processed,
rather than the default. If no <i>sqshrc</i> is supplied
following <b>-r</b>, then no initialization files are
processed. This flag <b>must</b> be the first argument
supplied on the command line, all other instances will be
ignored.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>-s</b> <i>colsep</i> Causes the string <i>colsep</i> to
be used to delimit SQL column output columns, this defaults
to &quot; &quot;.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>-S</b> <i>server</i> The name of the Sybase <i>server</i>
to connect, the default of this is the external environment
variable <b>$DSQUERY</b>. This value may also be set via the
internal variable <b>$DSQUERY</b>.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>-t [</b><i>filter</i><b>]</b> Enables filtering of
command batches through an external program, <i>filter</i>,
prior to being sent to the SQL Server. If <i>filter</i> is
not supplied, then <b>$filter_prog</b> is used (default is
`m4 -'). This value may also be set via the <b>$filter</b>
and <b>$filter_prog</b> variables.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>-U</b> <i>username</i> The Sybase <i>username</i> to
connect to the database as, this defaults to the username of
the user running <i>sqsh</i>. The <i>username</i> may also
be set via the <b>$username</b> variable.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>-v</b> Displays the version number, <b>$version,</b> and
exits.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>-w</b> <i>width</i> The maximum output <i>width</i> of a
displayed result set, this defaults to 80 (the maximum for
this value is 256).</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>-X</b> Initiates the login connection to the server with
client-side password encryption (if supported). If either
SQL Server does not recognize this option, or if the version
of DB-Lib used to compile <i>sqsh</i> does not support this
option, then it will be ignored. This option may also be set
using the <b>$encryption</b> environment
variable.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>-y</b> <i>directory</i> Specifies a SYBASE
<i>directory</i> to use other than the value of
<b>$SYBASE</b> in order to find the interfaces
file.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>-z</b> <i>language</i> Specifies an alternate
<i>language</i> to display <i>sqsh</i> prompts and messages.
Without the <b>-z</b> flag, the server's default language
will be used. This may also be set using with the
<b>$language</b> variable.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<i>args</i> If sqsh is run with the <b>-i</b> flag
specifying an input file to be processed (rather then
initiating an interactive session), arguments may be
supplied on the command line to be passed to the input file.
These arguments may be accessed using the variables
<b>${0}</b>, <b>${1}</b>, ... (see the <b>Variables</b>
section, below, for more information).</td></table>


<p><b><small>INITIALIZATION</small></b><table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
Upon startup, <i>sqsh</i> initializes all internal
environment variables, commands, and aliases to their
default values, it then looks in the system-wide
configuration file (usually /usr/local/etc/sqshrc), followed
by a local configuration file <b>$HOME</b>/.sqshrc (this may
be overridden via the SQSHRC external environment variable).
If this file is found it is executed just like a script
would be using the <b>-i</b> flag.</td></table>
</p>
<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
The <i>.sqshrc</i> file may contain anything that could normally be typed at the prompt, however it should be noted that at the time this file is read <i>sqsh</i> has yet to establish a connection to the database, however most commands that perform database activity, such as <b>go</b> will attempt to establish a database connection when executed (it may also prompt you for a password if necessary). Also, if database activity is required within this startup file, the <b>connect</b> command (see <b>COMMANDS</b>, below) may be executed.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
After the <i>.sqshrc</i> file has been executed, <i>sqsh</i>
then parses any command line options (thus any variables set
in your <i>.sqshrc</i> file may be overridden by command
line options). Following that, if <i>sqsh</i> is run in
interactive mode (i.e. without <b>-i</b> and if stdin is
attached to a tty), it then looks for <i>.sqsh_history</i>
and loads the contents of that file into this history buffer
(see <b>BUFFERS</b>, below).</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
Immediately prior to establishing a connection to the
database (either during startup, or by an explicit
<b>connect</b> or <b>reconnect</b> command), the file
<b>$HOME/.sqsh_session</b> is executed. The name of this
file may be overridden using the <b>$session</b>
variable.</td></table>

<p><b><small>COMMAND
LINE</small></b><table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
When a line is first read by <i>sqsh</i>, the first word is
separated from the line. This word is then expanded of all
variables (see <b>Variable Substitution</b>, below),
followed by command expansion (see <b>Command
Substitution</b>, below). The first word of the resulting
string is then analyzed to see if it is either a valid
<i>sqsh</i> command or alias.</td></table>
</p>
<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
The <i>sqsh</i> command line follows many of the same rules as Bourne shell, allowing file redirection, pipelining, command substitution, and backgrounding via the same syntax.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="3%"></td><td width="97%">
<b><small>Comments</small></b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
Any line beginning with a <b>#</b> following by a
non-alphanumeric character (any character other than 0-9,
a-z, A-Z, and _) causes the entire line to be ignored.
Because of the possible collision with TSQL temp-table
names, the line will not be ignored if the first character
following the <b>#</b>, is alphanumeric.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="3%"></td><td width="97%">
<b><small>Quoting</small></b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
Quoting is used to prevent the interpretation of special
keywords or characters to sqsh, such as white-space,
variable expansion, or command substitution. There are three
types of quoting, <i>escape</i>, <i>single-quotes</i>, and
<i>double- quotes</i>.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
Enclosing characters in single quotes preserves the literal
interpretation of each character contained within the
quotes. A single quote may not appear within single quotes,
even when preceded by an escape. For example:</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="15%"></td><td width="85%">
<pre>1&gt; echo I can not expand '$username'
</pre></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
outputs</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="15%"></td><td width="85%">
<pre>I can not expand $username
</pre></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
The characters \ are used to escape the meaning (and thus
prevent the interpretation) of the character immediately
following them. The \ character itself may be escaped. For
example:</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="15%"></td><td width="85%">
<pre>1&gt; echo I can\'t expand '$username'
</pre></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
outputs</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="15%"></td><td width="85%">
<pre>I can't expand $username
</pre></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
The escape character may also be used to escape a new-line
in order to perform a line continuation, in this case the
new-line is discarded and the continued line is
automatically appended to the previous line, for
example:</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="15%"></td><td width="85%">
<pre>1&gt; echo Hello \
--&gt; world!
Hello world!
</pre></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
Enclosing characters in double quotes preserves the literal
meaning of all characters within them with the exception of
<b>$</b>, <b>`</b>, and <b>\</b>. A double quote may be
contained within double quotes by escaping it.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="15%"></td><td width="85%">
<pre>1&gt; echo &quot;\&quot;I can't deny it, I like $username\&quot;, she said.&quot;
</pre></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
prints out</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="15%"></td><td width="85%">
<pre>&quot;I can't deny it, I like gray&quot;, she said.
</pre></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="3%"></td><td width="97%">
<b><small>Expansion</small></b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
After a line of input has been read, <i>sqsh</i> attempts to
expand the line of any aliases (see <b>Aliasing</b>, below),
following that it attempts to determine if the line begins
with a command keyword. Once a line has been determined to
contain a command name it has two types of expansion
performed up it: <i>variable substitution</i>, followed by
<i>command substitution</i> respectively. Following this
expansion the command line is separated into words and the
command is executed.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="3%"></td><td width="97%">
<b><small>Variable Substitution</small></b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
The character $ is used to indicate variable substitution or
expansion within a word. These variables may be assigned
values by the <b>set</b> command like so:</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="15%"></td><td width="85%">
<pre>1&gt; set</pre> <i>name</i><tt>=</tt><i>value</i></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<i>name</i> may be a character or underscore followed by any
combination of characters, digits, or underscore, and may
not contain any special characters, such as (') and
(&quot;). The restriction on the first character being a
digit is introduced because SQL allows the representation of
money datatypes as $nn.nn where n is a digit.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<i>value</i> may contain anything, however if it is to
include white-space, then it must be quoted (see <b>Words
&amp; Quoting</b>, above). Note that in order to prevent the
expansion of a variable use either single quotes, or two 's,
like thus:</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="15%"></td><td width="85%">
<pre>1&gt; echo \$name

$name
</pre></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
Variables may be referenced in one of two ways:</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>$</b><i>variable</i> In this manner all characters,
digits, and underscores are treated as the <i>name</i> of
the variable until another type of character is reached
(either a special character, or a white-space).</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>${</b><i>variable</i><b>}</b> The braces are required
only when <i>variable</i> is followed by a letter, digit, or
underscore that is not to be interpreted as part of its
name. Note that the same effect may be achieved using double
quotes.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
It should be noted that because the variables are expanded
prior to breaking the command line into words, if the
contents of the variable contain white spaces, they are
treated as significant by the parser. In the following
example:</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="15%"></td><td width="85%">
<tt>1&gt; set x=&quot;1 2 3&quot;</tt></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="30%"></td><td width="70%">
<tt>2&gt; echo $x</tt></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
the <b>echo</b> command receives three arguments,
&quot;1&quot;, &quot;2&quot;, and &quot;3&quot;, although it
looks as if only one argument was passed to it. This
behavior is consistent with most shells (such as csh, bourne
shell, etc.).</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="3%"></td><td width="97%">
<b><small>Command Substitution</small></b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<i>Sqsh</i> supports a second form of expansion called
<i>command substitution</i>. This this form of expansion the
output of an external UNIX command may be substituted on the
command line. This expansion may be achieved by placing the
command line to be executed in back-quotes (`). For
example:</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="15%"></td><td width="85%">
<tt>1&gt; set password=`/sybase/bin/getpwd $DSQUERY`<br>
1&gt; echo $password<br>
ilikepickles</tt></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
This this example, the external program
<b>/sybase/bin/getpwd</b> is executed with the current
contents of the $DSQUERY environment variable, the entire
expression is then replaced with the output of <b>getpwd</b>
(<b>ilikepickles</b>) prior to executing the <b>set</b>
command.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
By default, the output of the substituted command is first
broken into words according to the contents of the
<b>$ifs</b> variable prior to assembling together back into
the command line. So, by overriding the contents of
<b>$ifs</b> you may affect the behavior of the substitution
process. For example:</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="15%"></td><td width="85%">
<tt>1&gt; set ifs=&quot;:&quot;<br>
1&gt; echo `echo hello:how:are:you`<br>
hello how are you</tt></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
This mechanism is frequently useful for parsing input files,
such as <b>/etc/passwd</b> into fields.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="3%"></td><td width="97%">
<b><small>Input/Output Redirection</small></b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
As with standard Bourne shell (and most other shells, for
that matter), a command's input and output may be redirected
using a special notation interpreted by the shell. The
following may appear anywhere on the command line, but only
redirection that is specified <i>prior</i> to a pipe (|)
actually has any effect on the behavior of internal
<i>sqsh</i> commands (refer to <b>Pipes</b>,
below).</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>&lt;</b><i>word</i> Use the file <i>word</i> as the
standard input for the command. Typically very few
<i>sqsh</i> commands actually read anything from stdin, so
this will usually have no effect (see the <b>loop</b>
command).</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>[</b><i>n</i><b>]&gt;</b><i>word</i> Associate the output
of file descriptor <i>n</i> (stdout, by default) with file
<i>word</i>. If this file does not exist it is created;
otherwise it is truncated to zero length.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>[</b><i>n</i><b>]&gt;&gt;</b><i>word</i> Append the the
output of file descriptor <i>n</i> (stdout, by default) to
file <i>word</i>, creating it if it does not
exist.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>[</b><i>m</i><b>]&gt;&amp;</b><i>n</i> Redirect the
output of file descriptor <i>m</i> (stdout by default), to
same output as file descriptor <i>n</i>.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
The order in which redirections are specified on the command
line is significant, as the redirections are evaluated left-
to-right. For example:</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="15%"></td><td width="85%">
<pre>1&gt; select  from select  / Syntax error /
</pre></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="30%"></td><td width="70%">
<pre>
2&gt; go &gt;/tmp/output 2&gt;&amp;1

1&gt;
</pre></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
This statement first redirects the standard output of the
<b>go</b> command to the file /tmp/output, then redirects
the stderr to the same file. So, when the commands fails,
the error output will be found in the file
/tmp/output.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
However, by changing the order of redirection, you can
completely change the meaning:</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="15%"></td><td width="85%">
<pre>1&gt; select  from select

2&gt; go 2&gt;&amp;1 &gt;/tmp/output

Msg 156, Level 15, State 1

Server 'SQSH_TEST', Line 1

Incorrect syntax near the keyword 'select'.

</pre></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
In this case, error output will be sent to stdout, while
what would have gone to stdout is redirected to /tmp/output
(in this case /tmp/output will be empty).</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
Please read the section on <b>Background Jobs</b>, below,
for detailed info on the interaction between file
redirection and background jobs.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="3%"></td><td width="97%">
<b><small>Pipes</small></b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
A <i>pipeline</i> is a sequence of one or more commands
separated by a `|', each command using the stdout of the
preceding program for its own stdin. However the first
command in the <i>pipeline</i> must be a <i>sqsh</i>
command, and all other commands must be external (or UNIX)
programs. Any <i>sqsh</i> command may be run through a
pipeline, although for many of them (such as the <b>set</b>
command) it doesn't really make any sense to do this. The
following is an example of a <i>pipeline</i>:</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="15%"></td><td width="85%">
<pre>1&gt; select  from syscolumns

2&gt; go | more
</pre></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
This command causes the result set generated by the
<b>go</b> command to be sent to the <b>more(1)</b> program,
which then sends it to your screen, pausing at each screen
full of data (this is the primary reason that I wrote
<i>sqsh</i>).</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
There are several peculiarities in the way in which
<i>sqsh</i> deals with <i>pipelines</i> as opposed to the
way in which standard Bourne shell treats them.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
Everything following the first occurrence of a pipe (|)
character is broken into white-space delimited words,
including such special shell commands as `2&gt;&amp;1' and
other occurrences of pipes. If there are any variables
contained in these words they are expanded following the
same quoting rules as described in <b>Words &amp;
Quoting</b>, above, with the one exception that all quotes
are left in place. These words are then re-assembled into a
single string and shipped off to /bin/sh for
processing.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
In short, <i>sqsh</i> makes no attempt to interpret what
follows the first pipe, instead it is shipped off to a
&quot;real&quot; shell to do the work. The rationale behind
this is that I was lazy and didn't feel like writing all of
the same bizarre variable handling, &amp;&amp;'ing, ||'ing,
grouping, and variable expansion rules that Bourne shell
supports, and instead I let Bourne do the dirty
work.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
The advantage of this method is that you can do some very
complex stuff after the pipeline, such as:</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="15%"></td><td width="85%">
<pre>1&gt; select  from syscolumns

2&gt; go | (cd /tmp; compress -c &gt; syscolumsn.Z)
</pre></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
Not that I can think of any real reason to do this...but you
can if you want to.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="3%"></td><td width="97%">
<b><small>Background Jobs</small></b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
Backgrounding provides a mechanism whereby you may run any
<i>sqsh</i> command as a background process and continue
working while it runs. <i>Sqsh</i> offers two types of
backgrounding:</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<i>Deferred</i> In this mode <i>sqsh</i> redirects all
output of the background job to a temporary file (located in
the directory <b>$tmp_dir</b>) while the job is running, so
that the output is not intermixed with what you are
currently working on. When the job completes you are
notified of the process completion and the output may be
viewed using the <b>show</b> command.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<i>Non-Deferred</i> This corresponds to the common idea of a
background process under UNIX. In this mode the output of
the job is not implicitly redirected for you, and thus may
become intermingled with what you are currently
working.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
The mode selection you choose is selectable via the
<b>$defer_bg</b> variable (which defaults to `1', or `On').
Typically the only reason to not use <i>deferred</i> mode is
to prevent large result sets from filling up your file
system.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
To specify that a job be run in the background, simply
append a &amp; to the end of the command line,
as:</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="15%"></td><td width="85%">
<pre>1&gt; sp_long_arduous_proc 1, 30
</pre></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="30%"></td><td width="70%">
<pre>
2&gt; go &amp;

Job #1 running [xxxx]

1&gt;
</pre></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
When <i>sqsh</i> encounters the &amp; on the end of the
command line it spawns a child process (with a Unix process
id of <i>xxxx</i>) then the child process calls the <b>go.
go</b> command then establishes a new connection to the
database (using the current values of the <b>$DSQUERY,
$username, $password</b> variables) and executes the shown
query.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
While the job is executing the commands <b>jobs wait</b> and
<b>kill</b> may be used to monitor or alter a currently
running jobs (see section <b>COMMANDS</b>, below). When any
jobs complete <i>sqsh</i> will display a notification, such
as:</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="15%"></td><td width="85%">
<pre>1&gt; select count() from &lt;return&gt;

Job #1 complete (output pending)

2&gt;
</pre></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
When a job completes, if it had no output, it is immediately
considered terminated and will not show up in the current
list of running jobs. However if the complete job has
pending output, it will continue to be displayed as a
running job (with the <b>jobs</b> command) until a
<b>show</b> is used to display the output of the
job.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
There is a known bug with job backgrounding when used in
conjunction with pipes, please refer to the <b>BUGS</b>
section at the end of the manual.</td></table>


<p><b><small>BUFFERS</small></b><table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
In normal <b>isql</b> only a two buffer are maintained; the
buffer into which you are currently typing, and a buffer
that contains the last batch executed (this is kept around
for when you run `vi', or `edit').</td></table>
</p>
<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<i>Sqsh</i> maintains several distinct sets of buffers:</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>Work Buffer</b> This buffer corresponds directly to the
<b>isql</b> work buffer. It is the buffer into which you
enter the current batch prior to sending it to the
database.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>History Buffer</b> This is actually a chain of 0 or more
buffers (configurable by the <b>$histsize</b> variable) of
the last <b>$histsize</b> batches that have been run. This
buffer is only maintained when <i>sqsh</i> is run in
interactive mode; that is, batches executed using the
<b>-i</b> flag, or executed via redirection from the UNIX
prompt will not be maintained in history (after all, they
are already in a file somewhere).</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
If the variable <b>$histsave</b> is True (see section
<b>SPECIAL VARIABLES</b>), and <i>sqsh</i> is in interactive
mode, then the current history buffer is written to
<b>$HOME</b>/.sqsh_history when the you exit. This file is
then read back into <i>sqsh</i> the next time it is started
in interactive mode.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>Named Buffers</b> At any time during a session the
<b>Work Buffer</b>, or any of the <b>History Buffers</b> may
by copied into a named buffer using the <b>buf-copy</b>
command (see section <b>COMMANDS</b>, below). These buffers
are lost when you exit (however you may use the
<b>buf-save</b> command to save named buffers to a
file).</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="3%"></td><td width="97%">
<b><small>Buffer Short-Hand</small></b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
Many commands allow all of these buffers to be referenced in
a short-hand fashion, very similar to the way that
<b>csh(1)</b> references its commands history. Any of these
shorthands may by used for any <i>buffer</i> parameter
described in the <b>COMMANDS</b> section:</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>!.</b> The current work buffer.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>!!</b> The last command executed (note, this is not
available in non-interactive mode as it does not maintain a
history).</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>!+</b> The next available history entry. This is a
write-only buffer, so typically only applies to such
commands as <b>buf-copy.</b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>!</b><i>n</i> Refers to history #<i>n</i>. Each time an
entry is written to history it is assigned an increasing
number from the last entry, with this short-hand you may
reference any given history.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>!</b><i>buf_name</i> Just for consistency this is
supplied as a reference to named buffer <i>buf_name</i>,
however <i>buf_name</i> without the leading `!' is also
considered correct.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<i>buf_name</i> Refers to the named buffer
<i>buf_name</i>.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="3%"></td><td width="97%">
<b><small>Variables</small></b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
Variables may also be contained within work buffers. Under
these circumstances the variables remain unexpanded until
the buffer is sent to the database (via the <b>go</b>
command), during which time they are expanded and replaced
within the buffer. This behavior may be altered via the
<b>$expand</b> variable (see <b>Special Variables</b>,
below).</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
The following is an example of using variables within a
buffer:</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="15%"></td><td width="85%">
<pre>1&gt; set table_name=syscolumns

1&gt; select count() from $table_name

2&gt; go
</pre></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
This is the equivalent of performing the query:</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="15%"></td><td width="85%">
<pre>1&gt; select count() from syscolumns

2&gt; go
</pre></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
directly. Typically this feature is useful for reusing large
complex <b>where</b> clauses, or long column
names.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
Quoting rules apply the same in SQL buffers as they do in
command lines. That is, any variables contained within
double quotes (&quot;) are expanded and variables contained
within single quotes (') are left untouched.
Thus:</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="15%"></td><td width="85%">
<pre>1&gt; select &quot;$username&quot;, '$username'

2&gt; go
</pre></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
yields the results</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="15%"></td><td width="85%">
<pre> ---- ---------

 gray $username

(1 row affected)
</pre></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="3%"></td><td width="97%">
<b><small>Command Substitution</small></b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
As with the command line, the output of UNIX commands may
also be substituted within a SQL buffer upon execution (once
again, only if the <b>$expand</b> variable is set to 1, or
true). In this circumstance the command contained with
backquotes (`) is replaced with its output prior to
forwarding the buffer to SQL server. For
example:</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="15%"></td><td width="85%">
<pre>1&gt; select count() from `echo syscolumns`

2&gt; go
</pre></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
Causes the strings `echo syscolumns` to be replaced by the
word <i>syscolumns</i> prior to executing the command. It
should be noted that the contents of the substituted command
are only executed at the time of the <b>go</b> command, not
when the line of SQL is input.</td></table>


<p><b><small>FLOW-OF-CONTROL</small></b><table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
New with version 2.0 of sqsh, is the ability to perform
basic flow-of-control and functions using the <b>if, while,
do,</b> and <b>func</b> commands.</td></table>
</p>
<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="3%"></td><td width="97%">
<b><small>Blocks &amp; SQL Buffers</small></b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
All <i>sqsh</i> flow-of-control commands are block-based.
That is, if the test expression of the command is met, then
a block of sqsh-script will be executed. For example, the
definition of the <b>if</b> command is:</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="15%"></td><td width="85%">
<pre>if</pre> <i>expression<br>
block</i></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="15%"></td><td width="85%">
<pre>fi
</pre></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
This <i>block</i> may be any number of lines of sqsh
commands, SQL, or flow-of-control statements to be executed
if the <i>expression</i> evaluates to a success condition
(0).</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
Each <i>block</i> has its own SQL buffer for the duration
that the <i>block</i> is executed. That is, the following
statements:</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="15%"></td><td width="85%">
<pre>1&gt; /
2&gt;  IMPROPER USAGE OF IF BLOCK
3&gt; /
4&gt; SELECT COUNT() FROM
5&gt; if [ $x -gt 10 ]
6&gt;   sysobjects
7&gt; else
8&gt;   sysindexes
9&gt; fi
4&gt; go
</pre></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
will yield:</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="15%"></td><td width="85%">
<pre>Msg 102, Level 15, State 1
Server 'bps_pro', Line 1
Incorrect syntax near 'FROM'.
</pre></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
because the string 'sysobjects' or 'sysindexes' were
inserted into their own SQL buffers. These buffers are
discarded as soon as the end of the block was reached, and
since a <b>go</b> command was not contained within the
block, no additional errors were generated.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
Thus, the correct way to write the above expression would
be:</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="15%"></td><td width="85%">
<pre>1&gt; /
2&gt;  PROPER USAGE OF IF BLOCK
3&gt; /
4&gt; if [ $x -gt 10 ]
5&gt;   SELECT COUNT() FROM sysobjects
6&gt;   go
7&gt; else
8&gt;   SELECT COUNT() FROM sysindexes
9&gt;   60
10&gt; fi
4&gt; go
</pre></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
or, even:</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="15%"></td><td width="85%">
<pre>1&gt; /
2&gt;  PROPER USAGE OF IF BLOCK
3&gt; /
4&gt; if [ $x -gt 10 ]
5&gt;   set table_name=sysobjects
7&gt; else
5&gt;   set table_name=sysindexes
6&gt; fi
4&gt; SELECT COUNT() FROM $table_name
5&gt; go
</pre></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
Also, note that the line number displayed in the sqsh prompt
resets to the current position in the outer SQL buffer after
reaching the <b>fi</b> terminator.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="3%"></td><td width="97%">
<b><small>Expressions</small></b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
All flow-of-control statements in sqsh take an
<i>expression</i> to determine which <i>block</i> of code to
execute. Just like UNIX's Bourne Shell, this
<i>expression</i> is simply an operating system program that
is executed by sqsh. If the command returns a success status
(calls exit(0)), then it is considered
successfull.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
For example, with following statement:</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="15%"></td><td width="85%">
<pre>while test $x -lt 10
</pre><i>block</i></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="15%"></td><td width="85%">
<pre>done
</pre></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
will execute the contents of <i>block</i> while the current
value of $x is less than 10. Note that 'test' is a standard
UNIX program to perform basic string or numeric comparisons
(among other things). Also, unlike many shells, sqsh has no
built-in version of 'test'.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
Sqsh does, however, support the standard short form of
'test':</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="15%"></td><td width="85%">
<pre>while [ $x -lt 10 ]
</pre><i>block</i></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="15%"></td><td width="85%">
<pre>done
</pre></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
With this expression the open brace ('[') is replaced by the
sqsh parser with 'test', and the close brace (']') is
discarded.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="3%"></td><td width="97%">
<b><small>Unsupported Expressions</small></b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
Currently sqsh does not support the standard shell predicate
operators '&amp;&amp;' and '||'. These can be performed like
so:</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="15%"></td><td width="85%">
<pre>if sh -c &quot;cmd1 &amp;&amp; cmd2&quot;
</pre><i>block</i></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="15%"></td><td width="85%">
<pre>done
</pre></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="3%"></td><td width="97%">
<b><small>if statement</small></b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
The <b>if</b> command performs conditional execution of a
sqsh <i>block</i> based upon the outcome of a supplied
expression:</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="15%"></td><td width="85%">
<pre>if</pre> <i>expr1<br>
block1</i><tt><br>
elif</tt> <i>expr2<br>
block2</i></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="15%"></td><td width="85%">
<pre>else
</pre><i>block3</i></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="15%"></td><td width="85%">
<pre>fi
</pre></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
In this example, if expression <i>expr1</i> evaluates to
true, then the block <i>block1</i> is evaluated. Otherwise,
if the expression <i>expr2</i> evaluates to true, then block
<i>block2</i> is evaluated. Finally, if all other tests fail
<i>block3</i> is evaluated.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
Note that, unlike Bourne Shell, every <b>if</b> command must
be accompanies by a trailing <b>fi</b> statement. Also the
sqsh parser is not terribly intelligent: The else and fi
statements must be the only contents on the line in which
they appear, and they may not be aliased to another
name.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="3%"></td><td width="97%">
<b><small>while statement</small></b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
The <b>while</b> command executes a <i>block</i> of sqsh
code for the while a supplied expression remains
true.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="15%"></td><td width="85%">
<pre>while</pre> <i>expr<br>
block</i></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="15%"></td><td width="85%">
<pre>done
</pre></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
In this example, while the expression <i>expr</i> evaluates
to true, then the block <i>block</i> is
evaluated.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
The <b>break</b> statement may be used to break out of the
inner- most <b>while</b> or <b>for</b> loop (more on
<b>for</b> below).</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="3%"></td><td width="97%">
<b><small>for statement</small></b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
The <b>for</b> command executes a <i>block</i> of sqsh code
for each <i>word</i> supplied:</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="15%"></td><td width="85%">
<pre>for</pre> <i>var</i> <tt>in</tt> <i>word</i></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="15%"></td><td width="85%">
<pre> ...
</pre><i>block</i></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="15%"></td><td width="85%">
<pre>done
</pre></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
For each <i>word</i> supplied, the value of the variable
<b>$var</b> is set to the word and the <i>block</i> of code
is executed. Execution ends when there are no more words in
the list.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
As with <b>while</b> the <b>break</b> statement may be used
to break out of the inner-most execution loop.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="3%"></td><td width="97%">
<b><small>do command</small></b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
The <b>do</b> command is kind of a cross between a statement
and a command. It is a form of <b>go</b> (see below for
details on the <b>go</b> command) in which a <i>block</i> of
sqsh code may be executed for each row of data returned from
the query. When the <i>block</i> is executed, special sqsh
variables #[0-9]+ (a hash followed by a number) may be used
to reference the values in the returned query. For example
the following command:</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="15%"></td><td width="85%">
<pre>SELECT id, name FROM master..sysdatabases
do
   echo &quot;Checkpointing database #2, dbid #1&quot;
   use #2
   go
   checkpoint
   go
done
</pre></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
would cause a CHECKPOINT command to be issued in each
database on the server.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
Command line options</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="15%"></td><td width="85%">
The <b>do</b> command establishes a new connection to be
used by the <i>block</i> of code when executed. By default,
this connection is established to the current server (the
current setting of <b>$DSQUERY</b>), using the current
username (<b>$username</b>) and the current password
(<b>$password</b>). This behavior may, however, be
overridden using command line options:</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>-U</b> <i>username</i></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="23%"></td><td width="77%">
Establishes the connection to the server as the supplied
<i>username</i>.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>-P</b> <i>password</i></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="23%"></td><td width="77%">
Establishes the connection to the server using the supplied
<i>password</i> (which is hopefully a valid password for the
supplied <i>username</i>).</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>-S</b> <i>server</i></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="23%"></td><td width="77%">
Establishes the connection to the supplied
<i>server</i>.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>-n</b> Do not create a connection for use by the
<b>do</b> loop. This flag is mutually exclusive with the
above flags. With this flag enabled, attempts to perform
database commands within the <i>block</i> will generate a
flurry of CT-Library errors.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
Column variables</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="15%"></td><td width="85%">
As mentioned above, the values of the columns in the current
result set may be determined using the special #[0-9]+
variables. Thus, the variable #1 would contain the value of
column number one of the current result set, and #122 could
contain the value of the 122'nd column (column numbers begin
at 1).</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="15%"></td><td width="85%">
In the case of nested <b>do</b> loops, values in previous
nesting levels may be referred to by simply appending an
addition `#' for each previous nesting level, like
so:</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="15%"></td><td width="85%">
<pre>SELECT id, name FROM sysobjects
do
   SELECT indid, name FROM sysindexes WHERE id = #1
   do
      echo &quot;Table ##2 (objid ##1) has index #2 (indid #1)&quot;
   done
done
</pre>obviously, this isn't the way you would do this query in real life, but you get the idea.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="15%"></td><td width="85%">
When expanding columns with NULL values, the column variable
will expand to an empty string (`'). Also, references to
non-existant columns, such as #0, will result in an empty
string (`').</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="15%"></td><td width="85%">
As with regular sqsh variables (those referenced with a
`$'), column variables will not be expanded when contained
within single quotes.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
Aborting</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="15%"></td><td width="85%">
If the <b>break</b> or <b>return</b> commands are issued
during the processing of a <b>do</b> loop, the current query
will be canceled, the connection used by the loop will be
closed (unless the <b>-n</b> flag was supplied) and the
<b>do</b> loop will abort.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="3%"></td><td width="97%">
<b><small>func command</small></b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
The <b>func</b> command is used to define a reusable block
of <i>sqsh</i> code as a function. Functions are defined
like so:</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="15%"></td><td width="85%">
<pre>func stats
   if [ $# -ne 1 ]
      echo &quot;use: stats [on | off]&quot;
      return 1
   fi
   set statistics io ${1}
   set statistics time ${1}
   go
done
</pre></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
In this example a new function is established called
<i>stats</i> that expects a single argument, either
&quot;on&quot; or &quot;off&quot;. Using this argument,
<i>stats</i> will enable or disable time-based and I/O-based
statistics.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
Once established, the function may be called like
so:</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="15%"></td><td width="85%">
<pre>call stats on
</pre></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
Causing all instances of ${1} to be replaced with the first
command line argument to <i>stats</i>.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
Command line options</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="15%"></td><td width="85%">
Currently only one command line argument is available to the
<b>func</b> command.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>-x</b> Causes the function to be exported as a
<i>sqsh</i> command. That is, the function may be invoked
directly without requiring the <b>call</b> command. This
behavior is optional because command names can potentially
conflict with T-SQL keywords. When using this flag it is
recommended that you prepend a backslash () to your function
name.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
Function variables</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="15%"></td><td width="85%">
As shown in the example above, several special variables are
available for use within the body of the function. These
are:</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>$#</b> Expands to the number of arguments supplied to the
function when invoked.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>${0}..${</b><i>NN</i><b>}</b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="23%"></td><td width="77%">
Expands to positional arguments to the function. ${0} is the
name of the function being invoked, ${1} is the first
argument, ${2} the second and so-on, up to argument
<i>NN</i>.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="23%"></td><td width="77%">
Note that, unlike most shells, <i>sqsh</i> requires that
function arguments be referred to using the special curley
brace syntax (${1}, rather than $1). The reason for this is
that $1 is a valid MONEY value and using the curely braces
gets rid of this ambiguity.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>$?</b> After the invokation of a function, this will
contain its return value (see below).</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
Return value</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="15%"></td><td width="85%">
A value may be returned from a function via the
<b>return</b> command. Like so:</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="23%"></td><td width="77%">
<pre>return</pre> <i>N</i></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="23%"></td><td width="77%">
<pre>.
</pre></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="15%"></td><td width="85%">
Where <i>N</i> is a positive value. This return value is
available to the caller of the function via the <b>$?</b>
variable. As convention, a return value of 0 is used to
indicate a success.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="15%"></td><td width="85%">
If <b>return</b> is not explicitly called, the default
return value is the current value of the <b>$?</b> variable
(which is set to 0 upon entry of the function). Thus, if any
SQL statements are invoked within the function, the default
return value of <b>$?</b> will be the last error code
returned during the processing of the SQL
statement.</td></table>

<p><b><small>COMMANDS</small></b></p>
<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="3%"></td><td width="97%">
<b><small>Read-Eval-Print</small></b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
The read-eval-print loop is the heart of the <i>sqsh</i>
system and is responsible for prompting a user for input and
determining what should be done with it. Typically this loop
is for internal use only, however they are open to the user
because there are some creative things that can be done with
them.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>loop [-i] [-n] [-e sql]
[</b><i>file</i><b>]</b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="15%"></td><td width="85%">
The <b>loop</b> command reads input either from a file, a
supplied SQL statement, or from a user (see the options
below), determining whether the current line is a portion of
a TSQL statement or a <b>sqsh</b> command, and performing
the appropriate action. When run in an interactive mode
<b>loop</b> is also responsible for displaying the current
prompt (see <b>$prompt</b> below).</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="15%"></td><td width="85%">
<b>loop</b> completes when all input has been depleted (end-
of-file is encountered) or when a command, such as
<b>exit</b> requests that <b>loop</b> exit.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>-i</b> Normally, if <i>file</i> is supplied and does not
exist, <b>loop</b> will return with an error condition,
usually causing sqsh to exit. By supplying the <b>-i</b>
flag, control will be returned to the calling loop as if
end-of-file had been reached (that is, with no error
condition).</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>-n</b> By default, <b>loop</b> will automatically attempt
to connect to the database if a connection has not already
been established via the <b>connect</b> command. The
<b>-n</b> flag disables this behavior allowing <b>loop</b>
to process commands that do not require database
support.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>-e</b> <i>sql</i></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="23%"></td><td width="77%">
Causes <b>loop</b> to process the contents of <i>sql</i> as
if the user had typed it at the prompt and an implicit call
to <b>go</b> is automatically appended to the statement. If
multiple instances of <b>-e</b> are supplied, they are all
sent as a single batch to the SQL Server for processing.
This option may not be used in combination with a
<i>file</i> name as well.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<i>file</i> Specifies the name of a <i>file</i> to be used
as input rather than reading input from the user or from the
<b>-e</b> flag.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="3%"></td><td width="97%">
<b><small>Database Access</small></b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
Given the size and complexity of <i>sqsh</i> (just look at
the length of this man page), it is amazing how few database
manipulation commands that there actually are. The following
are commands that affect or use the current database
connection:</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>connect [-c] [-D</b> <i>db</i><b>] [-S</b> <i>srv</i><b>]
[-U</b> <i>user</i><b>] [-P</b> <i>pass</i><b>] [-I</b>
<i>ifile</i><b>]</b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="15%"></td><td width="85%">
This command is used primarily for internal use to establish
a connection to a database. If a connection is already
established it has no effect, however if a connection has
not been established and <b>$password</b> has not been
supplied, then the password is requested and a connection is
established. <b>connect</b> Accepts the following
parameters:</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>-c</b> By default, the <b>connect</b> command uses the
contents of <b>$database</b> to determine the database
context that should be used upon establishing the connection
(this is used by <b>reconnect</b> to preserve the current
database context upon reconnection). The <b>-c</b> flag
suppresses this behavior and the default database context of
login is used instead.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>-D</b> <i>db</i></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="23%"></td><td width="77%">
Causes <b>connect</b> to attempt to automatically switch the
database context to <i>db</i> after establishing the
connection. Using this flag is identical to setting the
<b>$database</b> variable prior to establishing the
connection.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>-S</b> <i>srv</i></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="23%"></td><td width="77%">
The name of the Sybase <i>server</i> to connect, this
defaults to <b>$DSQUERY</b> if not supplied.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>-U</b> <i>user</i></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="23%"></td><td width="77%">
The Sybase <i>user</i> to connect to the database as, this
defaults to <b>$username</b> variable if not
supplied.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>-P</b> <i>pass</i></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="23%"></td><td width="77%">
The <i>password</i> for <i>user</i> required to connect to
<i>server</i>. This defaults to <b>$password</b> if not
supplied.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>-I</b> <i>ifile</i></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="23%"></td><td width="77%">
The full path of an alternate Sybase <i>interfaces</i> file
to use.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>reconnect [-c] [-D</b> <i>db</i><b>] [-S</b>
<i>srv</i><b>] [-U</b> <i>user</i><b>] [-P</b>
<i>pass</i><b>] [-I</b> <i>ifile</i><b>]</b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="15%"></td><td width="85%">
The <b>reconnect</b> command may be used to force a
reconnection to the database using a new username,
servername, or password (if desired). If this command fails,
the current connection remains (if there is any), however if
it succeeds then the current connection is closed and the
new connection becomes the only active one.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="15%"></td><td width="85%">
All arguments that are accepted by <b>connect</b> are also
accepted by <b>reconnect</b> (in fact <b>reconnect</b> uses
<b>connect</b> to establish the new
connection).</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>go [options] [</b><i>xacts</i><b>]</b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="15%"></td><td width="85%">
Sends the contents of the <b>Work Buffer</b> to the
database, establishing a new connection to the database if
one does not already exist (by calling the <b>connect</b>
above). It them displays the results of the query back to
stdout and returns, causing the <b>Work Buffer</b> to be
cleared and moved to the end of the <b>History
Buffer</b>.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="15%"></td><td width="85%">
If the <b>Work Buffer</b> is empty and the
<b>$repeat_batch</b> variable is set to &quot;On&quot;,
<b>go</b> will attempt to re-run the last command executed
(this will only work in interactive mode if history support
is enabled).</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="15%"></td><td width="85%">
<b>go</b> accepts the following arguments:</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>-d</b> <i>display</i></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="23%"></td><td width="77%">
If X11 support is compiled into <i>sqsh</i>, and X display
mode is being used (see <b>-x</b>, below), then
<i>display</i> will be used as the X display area for the
result set. By default the environment variable
<b>$DISPLAY</b> is assumed.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>-f</b> Turns off the display of the footer message
&quot;(%d rows affected)&quot;. Footer messages may also be
turned off via the <b>$footers</b> variable.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>-h</b> Turns off all column headers. These may also be
turned off via the <b>$headers</b> variable.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>-m</b> <i>style</i></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="23%"></td><td width="77%">
Temporarily changes the display style to <i>style</i> for
the duration of the command. Currently supported styles are
<b>horiz</b> (or <b>hor</b> or <b>horizontal</b>),
<b>vert</b> (or <b>vertical</b>), <b>bcp</b>, <b>html</b>,
<b>meta</b>, <b>pretty</b> and <b>none</b>. The display
style may be permanently set via the <b>$style</b> variable
or the <b>-m</b> command line flag.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>-n</b> Turns off variable expansion in the <b>Work
Buffer</b> prior to sending it to the server, this may also
be turned off via the <b>$expand</b> variable.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>-p</b> Turns on output of performance statistics when the
result set has been successfully returned from the server.
This may also be turned on via the <b>-p</b> command line
argument to sqsh, or the <b>$statistics</b>
variable.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>-s</b> <i>sec</i></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="23%"></td><td width="77%">
If the value of <i>xacts</i> is greater than 1, this causes
<i>sqsh</i> to sleep for <i>sec</i> seconds before executing
the next transaction. Note that the time spent sleeping is
excluded from the statistical information displayed with the
<b>-p</b> flag.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>-t [</b><i>filter</i><b>]</b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="23%"></td><td width="77%">
Filters the command batch through an external program,
<i>filter</i>, prior to being sent to the SQL Server. If
<i>filter</i> is not supplied, then <b>$filter_prog</b> is
used (default is `m4 -'). This value may also be set via the
<b>$filter</b> and <b>$filter_prog</b>
variables.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>-w</b> <i>width</i></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="23%"></td><td width="77%">
Overrides the value of <b>$width</b> for the life of the
query (see <b>$width</b> below).</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>-x [</b><i>xgeom</i><b>]</b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="23%"></td><td width="77%">
Turns on the X11 display filter (only if X11 support is
comiled into <i>sqsh</i>), which causes the result set to be
sent to a separate window. If <i>xgeom</i> is supplied, then
this value will be used as <b>$xgeom</b> for the life of the
query (see <b>$xgeom</b> below).</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<i>xacts</i></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="23%"></td><td width="77%">
Specifies number of times the contents of the <i>Work
Buffer</i> should be executed. Note that, similar to isql, a
result set will only be displayed during the final execution
of the batch. Also, the contents of the <i>Work Buffer</i>
are only expanded once, prior to the first execution, so the
contents of the buffer will not change between subsequent
executions.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>bcp [bcp_options]</b> <i>table</i></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="15%"></td><td width="85%">
The <b>bcp</b> commands acts as a sort of enhanced <b>go</b>
command that redirects the result set(s) of the batch to
another server via the bcp protocol. While it is possible to
<b>bcp</b> the result set back to the current server (the
<b>$DSQUERY</b> variable), this is achieved more easily via
a SELECT INTO.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="15%"></td><td width="85%">
The nitty-gritty details of <b>bcp</b> go like this: First
the current SQL batch is expanded (unless the <b>$expand</b>
variable is set to 0) and shipped off to the database for
processing. If all goes well, a new connection is
established to the destination database (as specified via
$DSQUERY or the <b>-S</b> flag) to transfer the result set
using bcp. Then, the output of the source database
connection is bound to the new bcp connection and data
transfer is performed.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="15%"></td><td width="85%">
<b>bcp</b> can handle multiple result sets without any
problem (including result sets returned from stored
procedures, etc.) provided that all of the result sets are
valid for the destination table.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="15%"></td><td width="85%">
The equivalent of a &quot;bcp out&quot; may be performed
using the <b>bcp</b> display style setting and file
redirection (see the <b>$style</b> variable).</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>-A</b> <i>packet</i></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="23%"></td><td width="77%">
Specifies the TDS packet size used to communicate with the
destination server. If not supplied this defaults to the
value the <b>$packet_size</b> variable, or (if that is not
set), the default server packet size (usually 512
bytes).</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>-b</b> <i>batch_size</i></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="23%"></td><td width="77%">
The number of records transferred in a single transaction
between servers. Note that reaching the end of a result
causes the batch to be transferred, regardless of the value
of <i>batch_size</i>. The default is the entire result
set.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>-I</b> <i>ifile</i></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="23%"></td><td width="77%">
The full path of an alternate Sybase <i>interfaces</i> file
to use.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>-J</b> <i>charset</i></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="23%"></td><td width="77%">
Specifies the default <i>charset</i> used to communicate
with the SQL Server. This defaults to the current character
set (the value of the <b>$charset</b>
variable).</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>-m</b> <i>maxerr</i></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="23%"></td><td width="77%">
The maximum number of batches that may fail before
<b>bcp</b> gives up the ghost (default is 10). Note, that
this only refers to failures within a given batch. When
performing a bcp of multiple result sets to a server, if a
given result set has, say, too many columns or bad data
types, then the entire bcp process is aborted regardless of
the value of <i>maxerr</i>.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>-N</b> Indicates that the value for an identity column in
the destination table is being supplied within the result
set.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>-P</b> <i>pass</i></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="23%"></td><td width="77%">
The <i>password</i> for <i>user</i> required to connect to
<i>server</i>. This defaults to <b>$password</b> if not
supplied.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>-S</b> <i>serv</i></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="23%"></td><td width="77%">
The name of the Sybase <i>server</i> to connect, this
defaults to <b>$DSQUERY</b> if not supplied.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>-U</b> <i>user</i></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="23%"></td><td width="77%">
The Sybase <i>user</i> to connect to the database as, this
defaults to <b>$username</b> variable if not
supplied.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>-X</b> Causes password negotiation with the destination
server to be performed using client-side
encryption.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<i>table</i></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="23%"></td><td width="77%">
As with regular <b>bcp</b>, <i>table</i> may be either a
fully or partially specified table name in the destination
server. Note, that since a new database connection is
established during the bcp processes that the database
context of the connection may not be the same as the current
context, so it is usually safest to fully specify the table
name in the form database.owner.table.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>rpc [rpc_opt]</b> <i>rpc_name</i> <b>[[parm_opt]
[</b><i>@var</i><b>=]</b><i>value</i>
<b>...]</b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="15%"></td><td width="85%">
The <b>rpc</b> command is used to directly invoke a stored
procedure call in the connected server. This command is
particularly useful for communicating with an Open Server
that does not directly support language calls.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="15%"></td><td width="85%">
<b>rpc</b> invokes the remote procedure <i>rpc_name</i> with
one or more parameters that may be named (using <i>@var</i>)
or anonymous (by not supplying a name).</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="15%"></td><td width="85%">
Unfortunately, due to the fact that Sybase's implementation
of RPC's, does not directly support most implicit data type
conversions (mainly between VARCHAR (the string you supply
on the command line) and the most other data types (that the
remote procedure is expecting), the syntax for the
<b>rpc</b> command is somewhat complex. However, in short
here is how things work:</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="15%"></td><td width="85%">
As the <b>rpc</b> command line is being parsed, <i>sqsh</i>
attempts to guess the data type of the parameter
<i>value</i> based on the format (for example if it contains
only digits, it is assumed to be an integer), <i>sqsh</i>
then performs an explicit data type conversion prior to
calling the remote procedure call. If <i>sqsh</i> guesses
wrong, several flags are supplied to force it to perform the
correct data type conversion (see
<b>parm_opt</b>).</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="15%"></td><td width="85%">
<b>Display Options</b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="15%"></td><td width="85%">
The following options may be supplied anywhere on the
command line and are used to affect the manner in which the
result set(s) returning from the remote procedure call are
displayed:</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>-d</b> <i>display</i></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="23%"></td><td width="77%">
If X support is compiled into sqsh, the value of
<i>display</i> is used as the X windows DISPLAY variable.
Note, this is usually supplied with the <b>-x</b> flag,
below.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>-f</b> Turns off the display of the footer message
&quot;(%d rows affected)&quot;. Footer messages may also be
turned off via the <b>$footers</b> variable.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>-h</b> Turns off all column headers. These may also be
turned off via the <b>$headers</b> variable.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>-m</b> <i>style</i></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="23%"></td><td width="77%">
Temporarily changes the display style to <i>style</i> for
the duration of the command. Currently supported styles are
<b>horiz</b> (or <b>hor</b> or <b>horizontal</b>),
<b>vert</b> (or <b>vertical</b>), <b>bcp</b>, <b>html</b>,
<b>meta</b>, <b>pretty</b> and <b>none</b>. The display
style may be permanently set via the <b>$style</b> variable
or the <b>-m</b> command line flag.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>-w</b> <i>width</i></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="23%"></td><td width="77%">
Temporarily sets the output width to <i>width</i>. The
output width may be perminantly set via the <b>$width</b>
varable.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>-x [</b><i>xgeom</i><b>]</b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="23%"></td><td width="77%">
Sends output to a separate X window. If <i>xgeom</i> is
supplied, then the X window uses this geometry (see
<b>$xgeom</b> for details).</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="15%"></td><td width="85%">
<b>Parameter Options</b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="15%"></td><td width="85%">
The following options may be supplied immediatly prior to
specifying a parameter <i>value</i> and are used to affect
the way in which <i>sqsh</i> interprets the contents of the
<i>value</i> prior to calling the remote procedure. Although
<i>sqsh</i> will allow any combination of these parameters
to be combined, it only really makes sense to combine the
<b>-x</b> flag with any other flag.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>-b</b> Indicates that the <i>value</i> that is specified
should be converted to VARBINARY before calling
<i>rpc_name</i>. This flag is implicit (i.e. you need not
supply it) if <i>value</i> starts with &quot;0x&quot; and
contains only digits.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>-c</b> Indicates that the <i>value</i> that is specified
should be converted to VARCHAR prior to calling
<i>rpc_name</i>. This flag is implicit if <i>value</i> does
not match any of the implicit conversions for the other data
types.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>-d</b> Indicates that the <i>value</i> that is specified
should be converted to double (float) before calling
<i>rpc_name</i>. This flag is implicit if <i>value</i> is in
valid floating point notation (e.g, 0.1, .1, 1.4e10, or
4e10).</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>-i</b> Indicates that the <i>value</i> that is specified
should be converted to integer (int) before calling
<i>rpc_name</i>. This flag is implicit if <i>value</i>
contains only digits (and, optionally, a leading
sign).</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>-y</b> Indicates that the <i>value</i> that is specified
should be converted to money before calling <i>rpc_name</i>.
This flag is implicit if <i>value</i> begins with a
&quot;$&quot;, and contains only digits and, optionally, a
decimal.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>-n</b> Indicates that the <i>value</i> that is specified
should be converted to numeric before calling
<i>rpc_name</i>. This flag is never implicit, as
<i>value</i> would always match either int (<b>-i</b>) or
float (<b>-d</b>); however, both of these types will
implicitly be converted to a numeric as necessary by the
procedure call.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>-u</b> Indicates that <i>value</i> should be ignored and
treated as a NULL value, This flag is implicit if
<i>value</i> is &quot;&quot;.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="3%"></td><td width="97%">
<b><small>Buffers</small></b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
The following commands may be used to create, destroy, or
manipulate the various buffers described in the
<b>BUFFERS</b> section, above.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>reset</b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="15%"></td><td width="85%">
The <b>reset</b> command corresponds directly to the
<i>isql</i> `reset' command, returning a request to the
read-eval- print loop to clear the contents of the current
<b>Work Buffer</b> and, if you are running in interactive
mode, place a copy of the buffer into the <b>History
Buffer</b>. The alias <b>reset</b> is automatically
established upon start-up of <i>sqsh</i> for backward
compatibility with <i>isql</i>.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>redraw</b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="15%"></td><td width="85%">
Returns a request back to the current read-eval-print loop
for it to redisplay the current <b>Work Buffer</b>. If run
from non-interactive mode, this command has no
effect.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>history</b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="15%"></td><td width="85%">
Displays the last <b>$histsize</b> batches that have either
been sent to the database via the <b>go</b> command or
cleared from the <b>Work Buffer</b> via the <b>reset</b>
command.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>buf-copy</b> <i>dst-buffer</i>
<b>[</b><i>src-buffer</i><b>]</b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="15%"></td><td width="85%">
Copies the contents of <i>src-buffer</i> (defaults to
<b>!.</b>, the <b>Work Buffer</b>, if not supplied), to
<i>dst-buffer</i>. Refer to <b>BUFFERS</b> for information
on buffer naming conventions.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>buf-get</b> <i>buffer</i></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="15%"></td><td width="85%">
The <b>buf-get</b> command is supplied as a shorthand method
of running <b>buf-copy</b> It is the equivalent of
running:</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="23%"></td><td width="77%">
<pre>buf-append !.</pre> <i>buffer</i></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>buf-append</b> <i>dst-buffer</i>
<b>[</b><i>src-buffer</i><b>]</b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="15%"></td><td width="85%">
Appends the contents of <i>src-buffer</i> (defaults to !.)
to the contents of <i>dst-buffer</i>, if it exists. If
<i>dst- buffer</i> doesn't exist it is created.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>buf-save [-a]</b> <i>filename</i>
<b>[</b><i>src-buffer</i><b>]</b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="15%"></td><td width="85%">
Saves the contents of <i>src-buffer</i> (defaults to !.) to
<i>filename</i>. If the <b>-a</b> flag is supplied the
contents are appended to <i>filename</i> rather than
overwriting the current contents.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>buf-load [-a]</b> <i>filename</i>
<b>[</b><i>dst-buffer</i><b>]</b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="15%"></td><td width="85%">
Copies the contents of <i>filename</i> in <i>dst-buffer</i>
(defaults to !.). If the <b>-a</b> flag is supplied, the
contents of <i>filename</i> are appended to
<i>dst-buffer</i>. Note that it is illegal to attempt to
write to the contents of the history buffer.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>buf-show</b> [<i>buffer</i>]</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="15%"></td><td width="85%">
Displays the contents of the named <i>buffer</i>. If
<i>buffer</i> is not supplied, then the contents of all
named buffers are displayed. This command is slightly
different from the commands above in that it is only legal
to supply a <b>Named Buffer</b> <i>buffer</i>, <b>History
Buffers</b>, and the <b>Work Buffer</b> will have no
results.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>buf-edit</b> [-r <i>read-buf</i>] [-w
<i>write-buf</i>]</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="15%"></td><td width="85%">
The <b>buf-edit</b> command is used to edit the contents of
a buffer and place the changes into another buffer. This
command may only be run while in interactive mode. If
<i>read-buf</i> is not supplied then the buffer to be edited
defaults to !., if it is not empty, otherwise it defaults to
!!. If <i>write-buf</i> is not supplied then the edited
buffer is written back to !..</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="15%"></td><td width="85%">
By default, <b>buf-edit</b> uses the environment variable
<b>$EDITOR</b> first, followed by <b>$VISUAL</b> to
determine which editor to use, defaulting to `vi' if the
variable is not set.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="15%"></td><td width="85%">
It is important to note that as of release 1.2,
<b>buf-edit</b> is no longer able to use the name of an
alias to it as the name of the editor to launch. This is
primarily due to the change in the behavior of alias' (see
section <b>Aliasing</b>, below, for details).</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="15%"></td><td width="85%">
The commands <b>edit vi</b> and <b>emacs</b> are
automatically established upon startup of <i>sqsh</i> for
backward compatibility with <i>isql</i>.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="3%"></td><td width="97%">
<b><small>Variables</small></b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
The following command(s) are used to manipulate the contents
of internal variables and environment variables. There
aren't many of them right now, but there may be more in the
future.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>set [-x] [</b><i>name</i><b>=</b><i>value</i>
<b>...]</b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="15%"></td><td width="85%">
If no arguments are supplied to <b>set</b> then the current
values of all variables are displayed. Otherwise the
variable <i>name</i> is set to <i>value</i>. Note that some
internal variables (see <b>SPECIAL VARIABLES</b>) may only
be set with certain <i>value</i>s, so this action may fail,
leaving the previous contents on <i>name</i> in tact. The
<b>-x</b> flag causes the variable to be exported to the
environment of any programs launched from
<i>sqsh</i>.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="3%"></td><td width="97%">
<b><small>Job Control</small></b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
The following commands are used to view the status of, or
manipulate background jobs that are currently running, these
correspond roughly to the commands supplied by such shells
as <b>csh(1)</b>.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>jobs</b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="15%"></td><td width="85%">
Displays the status of any currently running jobs, including
whether or not these jobs have pending output, how long they
have been running, and when they were started.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>wait [</b><i>job_id</i><b>]</b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="15%"></td><td width="85%">
Will pause until job designated by <i>job_id</i> completes.
If <i>job_id</i> is a negative number then <b>wait</b> will
pause until <i>any</i> pending jobs completes. If there are
no jobs pending, or <i>job_id</i> does not belong to a
running job, then an error message is
displayed.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>kill</b> <i>job_id</i></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="15%"></td><td width="85%">
Terminates the job specified by <i>job_id</i>, throwing away
any output that may be deferred for the job. If
<i>job_id</i> is not a running job then an error message is
displayed.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>show</b> <i>job_id</i></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="15%"></td><td width="85%">
Displays the deferred output of completed background job
<i>job_id</i> and removes the job from the list of pending
jobs (removing the defer file in the process). If
<i>job_id</i> is still running, or is not a valid complete
job, then an error message is displayed.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="3%"></td><td width="97%">
<b><small>Aliasing</small></b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
As of release 1.2, <i>sqsh</i> supports full
<i>csh</i>-style command aliasing. With this feature,
<i>sqsh</i> checks the first word of each line, <i>prior to
any form of expansion</i>, to see if it matches the name of
an existing alias. If it does, the command is reprocessed
with the alias definition replacing its name. Unlike
<i>csh</i>, however, only one form of history substitution
is available within an alias: the `<b>!</b>' entry,
indicating the current line being expanded. If no history
expansion is called for, the arguments on the command line
remain unchanged.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
Like <i>csh</i>, aliases are not recursively expanded, so it
is perfectly legal to create an alias that expands to a
command by the same name.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
The following command is used to create an
alias:</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>alias
[</b><i>alias_name</i><b>=</b><i>alias_body</i><b>]</b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="15%"></td><td width="85%">
If no arguments are supplied to the <b>alias</b> command,
then the list of aliases currently in effect is displayed.
Otherwise, it creates a new alias with a name of
<i>alias_name</i> and a body of <i>alias_body</i>; if
<i>alias_name</i> already exists the body of the existing
<i>alias_name</i> is replaced with the new
definition.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="15%"></td><td width="85%">
After defining the new alias, whenever <i>sqsh</i>
encounters a line beginning with <i>alias_name</i>, the
remainder of the line is replaced with <i>alias_body</i>
before any further processing is performed.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="15%"></td><td width="85%">
If the string `<b>!</b>' exists anywhere within
<i>alias_body</i>, the arguments supplied to the alias are
inserted at that point, otherwise the argument are appended
to the end of the alias definition. For
example:</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="23%"></td><td width="77%">
<pre>1&gt; alias hi='echo ! said hello'

1&gt; hi Scott

Scott said hello
</pre></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="15%"></td><td width="85%">
where as if the alias does not include the <b>!</b> keyword,
then it behaves like so:</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="23%"></td><td width="77%">
<pre>1&gt; alias hi='echo said hello'

1&gt; hi Scott

said hello Scott
</pre></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="15%"></td><td width="85%">
It is perfectly legal to include a <b>!</b> more than once
within a given <i>alias_body</i>. Currently there is no way
to escape the string <b>!</b>, if you really need this
feature send me mail.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>unalias</b> <i>alias_name</i></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="15%"></td><td width="85%">
Removes <i>alias_name</i>.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="3%"></td><td width="97%">
<b><small>Miscellaneous</small></b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
The left over commands.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>exit</b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="15%"></td><td width="85%">
The <b>exit</b> command requests that current
read-eval-print loop cease processing. When the last loop
returns, <i>sqsh</i> <b>exit(1)</b>s.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>abort</b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="15%"></td><td width="85%">
Causes all nested read-eval-print loops to abort processing,
causing <i>sqsh</i> to exit with an exit value of 254 (see
section <b>EXIT STATUS</b>).</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>read [-a] [-n] [-h]</b> <i>var_name</i></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="15%"></td><td width="85%">
Reads a line of input from the user, placing the text of the
line in the variable <i>var_name</i>. If the <b>-n</b> is
used, then the trailing new-line is left on the line of
text, and if <b>-a</b> is supplied, then the text of the
line is appended to the existing value of <i>var_name</i>.
The <b>-h</b> flag turns off echoing of typed characters
back to the user.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>sleep</b> <i>seconds</i></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="15%"></td><td width="85%">
Causes <i>sqsh</i> too pause for <i>seconds</i>. This is
useful within scripts of batches need to need to pause
briefly between batches (it was primarily useful to me for
testing background jobs).</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>echo [-n] [</b><i>args</i> <b>...]</b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="15%"></td><td width="85%">
Just like the UNIX <b>echo(1)</b>, this prints its arguments
to stdout, followed by a new-line. If the <b>-n</b> flag is
supplied, the new-line is omitted.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>warranty</b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="15%"></td><td width="85%">
Displays the standard GNU warranty.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>help [</b><i>command</i><b>]</b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="15%"></td><td width="85%">
Without any arguments <b>command</b> displays a brief list
of all available commands, otherwise, it provides specific
help for <i>command</i>, if available. When help is
requested on a specific <i>command</i>, <b>help</b> looks
for the file <b>$help_dir/</b><i>command</i><b>.hlp</b> and
displays it to stdout.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>shell [</b><i>shell command</i><b>]</b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="15%"></td><td width="85%">
If <i>shell command</i> is not supplied then <i>sqsh</i>
executes <b>$SHELL.</b> If the <b>$SHELL</b> variable has
not been set, then, by default, /bin/sh is executed.
Otherwise, if <i>shell command</i> is supplied then it is
executed. The exit status of the command executed is stored
in the special <b>$?</b> read-only environment
variable.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>lock</b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="15%"></td><td width="85%">
Locks the current session until the correct password is
typed. By default <b>lock</b> attempts to use the UNIX
password (from /etc/passwd) associated with the user running
<i>sqsh</i>, however if the <b>$lock</b> variable is set
then the contents of that is used for validation
instead.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="15%"></td><td width="85%">
Note, on systems using Shadow Passwords (in which even the
encypted password is unavailable), <b>lock</b> will only
work using the <b>$lock</b> variable.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="3%"></td><td width="97%">
<b><small>Aliases</small></b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
The following aliases are established upon startup of
<i>sqsh</i>, and are provided primarily for backward
compatibility with <b>isql</b>. These may be removed at any
time using the <b>unalias</b> command (either at the prompt,
or within your .sqshrc file).</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>!</b> The <b>!</b> alias is provided as a
<b>csh(1)</b>-like history mechanism, and is an alias of
<b>buf-append.</b> With release 0.7, this alias is provided
only for backwards compatibility with previous releases of
<i>sqsh</i>. See <b>SPECIAL VARIABLES</b>,
<b>$history_shorthand</b> for details on the new shorthand
mechanism (the new shorthand more closely resembles that of
<b>csh</b>).</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>reset</b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="15%"></td><td width="85%">
An alias for the <b>reset</b> command, which causes the
contents of the current work buffer to be cleared and copied
to history (if in interactive mode).</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>exit</b> and <b>quit</b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="15%"></td><td width="85%">
An alias for the <b>exit</b> command, causes the current
read-eval-print loop to complete.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>edit</b>, <b>vi</b>, and <b>emacs</b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="15%"></td><td width="85%">
These are provided as aliases for the <b>buf-edit</b>
command. See <b>COMMANDS-Buffers</b> for information on the
interactions between <b>buf-edit</b> and
aliases.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>go</b> Provided as an alias for the <b>go</b> command
(for obvious reasons).</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>help</b> An alias for the <b>help</b>
command.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="3%"></td><td width="97%">
<b><small>In-Line go</small></b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
If the variable <b>$semicolon_hack</b> is set to 1 (on),
then sqsh supports what is called an in-line <b>go</b>
feature. This allows the current command batch to be
terminated and sent to the database in a single step by
appending a `;' onto the end of the current work buffer.
This allows</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="15%"></td><td width="85%">
<pre>1&gt; sp_who;
</pre></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
To behave in the same manner as if you had
typed:</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="15%"></td><td width="85%">
<pre>1&gt; sp_who
2&gt; go
</pre></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
Likewise, anything following the semicolon is passed to the
<b>go</b> command just as if it was run as a normal
command:</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="15%"></td><td width="85%">
<pre>1&gt; sp_who ; 2&gt;/dev/null | more
</pre></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
Unlike most other <b>isql</b> replacements, <i>sqsh</i>
attempts to be smart about the semicolons. If a semicolon is
contained within a set of single or double quotes it will
not be interpreted. This includes multiple quotes. For
example:</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="15%"></td><td width="85%">
<pre>1&gt; select &quot;This is a multiple line

2&gt; quote; it is smart!&quot; ;
</pre></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
In the above example, only the second semicolon (the one at
the end of the line) will be interpreted.</td></table>

<p><b><small>SPECIAL
VARIABLES</small></b><table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
There are several options that are configurable via the
command line options to <i>sqsh</i>, however these are by no
means complete. There are many aspects of <i>sqsh</i>'s
behavior that may only be modified by setting special
variables (in fact, the command line options really only set
these variables for you).</td></table>
</p>
<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="3%"></td><td width="97%">
<b><small>Variable Datatypes</small></b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
Next to all of the variables that follow is the type of data
with which they may be set. Any attempts to set the variable
with a type of data that it does not accept will
fail.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<i>string</i> Any sequence characters.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<i>boolean</i> A positive <i>boolean</i> value may be
represented as either &quot;True&quot;, &quot;Yes&quot;,
&quot;1&quot;, or &quot;On&quot; (case insensitive) and a
negative boolean value may be represented as
&quot;False&quot;, &quot;No&quot;, &quot;0&quot;, or
&quot;Off&quot; (case insensitive). However, internally the
value of the variable will always be represented as either a
&quot;1&quot; or &quot;0&quot;.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<i>path</i> Must be the <i>path</i> name that is readable by
the <i>sqsh</i> program.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<i>int</i> Must be one or more digits. Note that some
variables also restrict the range of the
integer.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<i>date-spec</i> This is a string of the format used to
specify dates and times for the <b>date(1)</b> command, or
the <b>strftime(3C)</b> and <b>cftime(3C)</b> standard C
library functions. For example `%H:%M:%S' specifies a time
of hours in 24 hour format, followed by a colon, followed by
minutes, followed by a colon, followed by
seconds.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<i>float-format</i> A string of the format
<i>pp</i>.<i>ss</i>, where <i>pp</i> is the total precision
of a floating point value (the total number of digits to be
displayed, including those following the decimal) and
<i>ss</i> is the scale of the value (the total number of
digits following the decimal to be displayed).</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="3%"></td><td width="97%">
<b><small>Variables</small></b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
The following variables have special meanings within
<i>sqsh</i> and the setting of these variables alter the
behavior of the shell.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<i>$?</i> <b>(int)</b> This variable may contain the
following return value:</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>o</b> The most recent error number return from the SQL
Server (@@errno) of severity &gt; 10 (above informational
messages).</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>o</b> The exit value of a previously executed pipe
command.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>o</b> The return value of the most recently executed sqsh
function.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<i>$#</i> <b>(int)</b> Contains the number of arguments
passed into the sqsh function or script.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<i>${0}</i><b>..</b><i>${NN}</i> <b>(int)</b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="30%"></td><td width="70%">
Used to reference positional function arguments. Argument
${0} is the number of the function being called, ${1} is the
first argument, etc.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<i>autouse</i> <b>(string)</b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="30%"></td><td width="70%">
Note: the meaning of this variable has been deprecated. If
<b>$autouse</b> is set, and the <b>$database</b> variable
has not been set, then this variable causes <b>connect</b>
to perform a &quot;use <b>$autouse</b>&quot; once a
connection has been established. This variable may also be
set using the <b>-D</b> command line option.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<i>banner</i> <b>(boolean)</b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="30%"></td><td width="70%">
Turns off the banner message displayed on startup, this
variable defaults to 1 and may also be turned off using the
<b>-b</b> command line argument.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<i>batch_failcount</i> <b>(int)</b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="30%"></td><td width="70%">
This internal variable is used to keep track of the number
of batches that have failed to execute (essentially, the
number of times that the error handler was called). A batch
is considered failed whenever an error of severity
<b>$thresh_fail</b> is encountered. When
<b>$batch_failcount</b> reaches <b>$thresh_exit</b>
<i>sqsh</i> exits with an exit value of the total number of
batches that have failed. Setting <b>$batch_failcount</b> to
the string &quot;&quot; will cause it to reset to zero, any
other value may have unpredictable results. See <b>EXIT
STATUS</b> for details.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<i>batch_pause</i> <b>(boolean)</b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="30%"></td><td width="70%">
Causes a &quot;Paused. Hit enter to continue...&quot;
message to be displayed after each batch is executed. This
variable, in conjunction with <b>$echo</b> is good for
debugging SQL scripts.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<i>bcp_colsep</i> <b>(string)</b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="30%"></td><td width="70%">
Used as a separator between columns during BCP style output
(see the <b>$style</b> configuration variable and the
<b>-m</b> option to the <b>go</b> command). The default
setting is &quot;|&quot;.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<i>bcp_rowsep</i> <b>(string)</b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="30%"></td><td width="70%">
Used as a separator between rows during BCP style output
(see the <b>$style</b> configuration variable and the
<b>-m</b> option to the <b>go</b> command). Note that, a
newline (&quot;n&quot;) is automatically appended this this
value and should not be supplied.. The default setting is
&quot;|&quot;.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<i>bcp_trim</i> <b>(boolean)</b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="30%"></td><td width="70%">
Controls whether or not BCP style output trims trailing
spaces from fixed length columns. The default is
&quot;True&quot;.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<i>charset</i> <b>(string)</b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="30%"></td><td width="70%">
If this variable is set prior to establishing a connection
with SQL Server, then during the connection <i>sqsh</i> will
request that the server transform to and from the requested
<i>charset</i>. After establishing a connection, this
variable is automatically set to the current character set
in use.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<i>clear_on_fail</i> <b>(boolean)</b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="30%"></td><td width="70%">
Normally, whenever the <b>go</b> command is run, <i>sqsh</i>
clears the current work buffer of its contents, moving them
to history. Setting <b>$clear_on_fail</b> to 0, leaves the
current work buffer in-tact if a failure is encountered
while sending the contents to the database. The default
value is 1, or on.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<i>colsep</i> <b>(string)</b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="30%"></td><td width="70%">
Causes the string <i>colsep</i> to be used to delimit SQL
column output columns, this defaults to &quot; &quot;, it
may also be set via the command line argument
<b>-s</b>.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<i>colwidth</i> <b>(int)</b> Used to control the maximum
column width displayed by the <b>pretty</b> display style
(see <b>$style</b> below). If a row of a column exceeds this
width, it will be wrapped in a relatively visually appealing
manner at <b>$colwidth</b> characters. Note, however, that
if there is enough screen width to hold all columns
<b>$colwidth</b> may be exceeded until the width of the
screen is reached.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<i>date</i> <b>(date-spec)</b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="30%"></td><td width="70%">
This variable may be set with a date format (see the man
page for <b>date(1)</b>), and the variable expands to the
current date in the supplied format. The default format for
this variable is %d-%b-%y (e.g. 02-Feb-1996).</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<i>datetime</i> <b>(date-spec)</b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="30%"></td><td width="70%">
This variable may be set with a date format similar to
<b>$date</b> and <b>$time</b> and is used to control the
display format of all SQL Server DATETIME and SMALLDATETIME
columns.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="30%"></td><td width="70%">
Note that this features relies upon the operating system
specific locale information for determining such things as
the name of the month and day, rather than going through the
CT-Lib locale information. This means that the date format
could potentially miss- match the locale as requested using
the <b>-z</b> flag. For example, if <i>sqsh</i> is run on an
operating system configure for US English, but requests
French as the language of choice using <b>-z</b>, the use of
<b>$datetime</b> will cause all date information to be
displayed in US English rather than French.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="30%"></td><td width="70%">
Ordinary characters defined in the variable are left in
place without any conversion. Characters introducted by a
`%' character are replaced during display of a column value
as follows:</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>[]</b> Any contained between a pair of braces (`[' and
`]') will be removed when displaying SMALLDATETIME columns.
This feature is particularly useful for removing the seconds
and milliseconds values which are not applicable to
SMALLDATETIME anyway. For DATETIME columns, only the actual
braces will be removed.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>%a</b> The abbreviated weekday name according to the
current operating system locale.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>%A</b> The full weekday name according to the current
operating system locale.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>%b</b> The abbreviated month name according to the
current operating system locale.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>%B</b> The full month name according to the current
operating system locale.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>%c</b> The preferred date and time representation for the
current operating system's locale.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>%d</b> The day of the month as a decimal number (range 0
to 31).</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>%D</b> The date in US format (mm/dd/yy).</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>%H</b> The hour as a decimal number using a 24-hour clock
(range 00 to 23)</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>%I</b> The hour as a decimal number using a 12-hour clock
(range 01 to 21)</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>%j</b> The day of the year as a decimal number (range 001
to 366).</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>%m</b> The month as a decimal number (range 10 to
12).</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>%M</b> The minute as a decimal number.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>%p</b> Either `am' or `pm' according to the given time
value, or the corresponding strings for the current
operating system locale.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>%r</b> The time in 12-hour format (hh:mm:ss
[AM|PM]).</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>%s</b> Seconds since the epoc (1970-01-01 00:00:00 UTC)
(this is not supported on all systems).</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>%S</b> The second as a decimal number.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>%T</b> The current time in 24-hour format
(hh:mm:ss).</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>%u</b> The millisecond as a decimal number.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>%U</b> The week number of the current year as a decimal
number, starting with the first Sunday as the first day of
the first week.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>%W</b> The week number of the current year as a decimal
number, starting with the first Monday as the first day of
the first week.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>%w</b> The day of the week as a decimal, Sunday being
0.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>%x</b> The preferred date representation for the current
locale without the time.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>%X</b> The preferred time representation for the current
locale without the date.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>%y</b> The year as a decimal number without a century
(range 00 to 99).</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>%Y</b> The year as a decimal number including the
century.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>%Z</b> The time zone (e.g., EDT), or nothing if not time
zone is determinable.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>%%</b> A literal `%' character.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<i>database</i> <b>(string)</b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="30%"></td><td width="70%">
If this variable is set prior to establishing a connection
to the SQL Server, the a &quot;use <b>$database</b>&quot; is
performed immediately after the connection is established.
Once a connection has been established this variable will
automatically be set to the current database
context.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<i>debug</i> <b>(string)</b> If <i>sqsh</i> has been
compiled with debugging enabled (-DDEBUG), this variable may
be used to control the amount of debugging output displayed.
<b>$debug</b> may be set to a pipe (|) delimited (logical
OR) set of the following words to turn on various pieces of
debugging: <b>FD</b>, <b>SIGCHLD</b>, <b>ENV</b>,
<b>JOB</b>, <b>AVL</b>, or <b>ALL</b>.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<i>defer_bg</i> <b>(boolean)</b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="30%"></td><td width="70%">
Normally, when a job is run the in the background (via a
`&amp;' on the command line), the output of the job is
deferred to a temporary file (located in $<i>tmp_dir</i>)
until the user requests the output to be displayed. This way
the results of the job will not interfere with what the user
is going. Setting this variable</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<i>echo</i> <b>(boolean)</b> Setting <b>$echo</b> to on (1)
causes each command submitted to the database via the
<b>go</b> command to be displayed prior to the output. This
variable defaults to 0 (or off), and may also be set using
the <b>-e</b> command line option.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<i>encryption</i> <b>(boolean)</b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="30%"></td><td width="70%">
Setting the <b>$encryption</b> variable prior to
establishing a connection to the server will cause the login
connection to be initiated using client-side password
encryption. This variable may also be set using the
<b>-X</b> command line option.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<i>exit_failcount</i> <b>(boolean)</b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="30%"></td><td width="70%">
Settings this value to 1 causes <i>sqsh</i> to return an
exit status of <b>$batch_failcount</b> rather than 0, upon a
non-error termination. See <b>EXIT STATUS</b> for details.
The default value is 0.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<i>expand</i> <b>(boolean)</b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="30%"></td><td width="70%">
Be default when the <b>go</b> command is executed the
contents of the current work buffer is expanded of all
environment variables prior to being sent to the database
for execution. By setting this variable to &quot;0&quot;,
the buffer will no longer be expanded before being sent to
the database. This is useful when you either (1) have
strings in the buffer that contain a `$' and you don't want
them to be expanded, or (2) for performance reasons; it
takes time (and an extra copy of the buffer) to perform the
variable expansion.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<i>filter</i> <b>(boolean)</b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="30%"></td><td width="70%">
Toggles the filtering the SQL batch through an external
program (defined by the <b>$filter_prog</b> variable, below)
prior to being sent to the SQL Server. Default is `0', or
`off'.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<i>filter_prog</i> <b>(string)</b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="30%"></td><td width="70%">
Defines the external program through which the SQL batch
will be filtered prior to being sent to the SQL Server. This
variable is ignored if <b>$filter</b> is set to `0' or
`off'. The default is `m4 -'.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<i>float</i> <b>(float-format)</b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="30%"></td><td width="70%">
Defines the display format (the precision and scale) for all
floating point values displayed by sqsh. The default is
`18.6'. Note that values exceeding the defined precision are
not truncated, so setting this value too low may cause
columns in a result set to be miss-aligned.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<i>footers</i> <b>(boolean)</b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="30%"></td><td width="70%">
Toggles the &quot;(%d rows affected)&quot; following a
result set. The default for this variable is
`1'.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<i>headers</i> <b>(boolean)</b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="30%"></td><td width="70%">
Toggles the column headers preceding a result set. The
default for this variable is `1'.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<i>help_dir</i> <b>(path)</b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="30%"></td><td width="70%">
This is the location of the help files used by the
<b>help</b> command, typically it defaults to something like
/usr/local/lib/sqsh/help.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<i>histnum</i> <b>(int)</b> Contains the history number that
will be assigned to the current command batch as soon as the
<b>go</b> command is executed. This variable should be
considered read-only.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<i>history</i> <b>(path)</b> This is the location of the
history file used to store and retrieve a users history
during start-up and shut-down. This defaults to
<b>$HOME</b>/.sqsh_history. This variable is expanded each
time it is referenced by sqsh, much in the same way that
<b>$prompt</b> is each time the prompt is
displayed.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<i>history_shorthand</i> <b>(boolean)</b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="30%"></td><td width="70%">
This variable is only meaningful within an interactive
session. If set, it turns on the ability to append any named
buffer or history buffer onto the current work buffer in a
`sh' history style, such as `!40'. Be careful with this
feature, <i>sqsh</i> is not terribly intelligent with
looking for history shorthand, so it is possible that it may
get confused (although, it is smart enough to ignore !'s in
quoted strings).</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<i>histsave</i> <b>(boolean)</b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="30%"></td><td width="70%">
The value of this variable is used by <i>sqsh</i> to
indicate whether the history should be save to
<b>$history</b> prior to shutdown.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<i>histsize</i> <b>(int)</b> The value of this variable is
used to alter the maximum number of history entries are are
maintained by <i>sqsh</i> (the default is 10). Note that
decreasing the value of this variable causes some history
entries to be lost.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<i>hostname</i> <b>(string)</b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="30%"></td><td width="70%">
Used during the connection process to indicate to SQL Server
the name of the host from which <i>sqsh</i> is connecting.
This variable may also be set using the <b>-H</b>
flag.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<i>interactive</i> <b>(boolean)</b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="30%"></td><td width="70%">
This is a variable used internally and should probably not
be altered by the user. If <b>$interactive</b> is `0', then
the prompt is not displayed, the history is neither read nor
written and some user messages are suppressed.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<i>interfaces</i> <b>(path)</b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="30%"></td><td width="70%">
This is the full path name of the interfaces file, it
defaults to <b>$SYBASE</b>/interfaces.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<i>keyword_completion</i> <b>(int/string)</b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="30%"></td><td width="70%">
This variable only applies if GNU Readline support has been
compiled into <i>sqsh</i>. <b>$keyword_completion</b> is
used to control the TSQL keyword completion feature in
readline, and may be set using either an integer between 0
and 4, or one of the strings <i>none</i>, <i>lower</i>,
<i>upper</i>, <i>smart</i>, or <i>exact</i>. If it is set to
either 0 or <i>none</i>, then no keyword completion is
performed (this is the default). <i>lower</i> or 1, causes
<i>sqsh</i> to complete the keyword in lowercase, regardless
of the case that the partially completed keyword was typed.
<i>upper</i> or 2 forces completion to be performed in upper
case, <i>smart</i>, or 3, basis the decision on case upon
the first character of the partial keyword, and <i>exact</i>
completes the keyword in exactly the same case as defined in
the <b>case).</b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<i>keyword_file</i> <b>(string)</b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="30%"></td><td width="70%">
If readline support has been compiled into <i>sqsh</i>, and
<i>sqsh</i> is being run in interactive mode, the contents
of this file are used for keyword tab completion by readline
rather than the default set of TSQL syntactical keywords.
The default is <b>$HOME/.sqsh_words</b>.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<i>language</i> <b>(string)</b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="30%"></td><td width="70%">
The <b>$language</b> variable is used while establishing a
connection to the server to specify the national language
used to display system prompts and messages. The variable
will automatically track the current language setting of the
server. This may also be set via the <b>-z</b>
flag.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<i>lineno</i> <b>(int)</b> This is an internal variable and
should not be altered by the user. It is used to maintain
the line number that is being typed into within the current
work buffer.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<i>linesep</i> <b>(string)</b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="30%"></td><td width="70%">
Used to configure the line separator for the horizontal
display style, this defaults to &quot;nt&quot;.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<i>lock</i> <b>(string/write-only)</b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="30%"></td><td width="70%">
Defines the password to be used by the <b>lock</b> command.
If unset or set to the string &quot;NULL&quot;, then the
UNIX password of the user running <i>sqsh</i> is used
instead. Note that <b>$lock</b> will always expand to the
string &quot;lock&quot; if referenced.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<i>newline_go</i> <b>(boolean)</b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="30%"></td><td width="70%">
This flag is used as a horrible kludge to support an
&quot;empty&quot; alias for the <b>go</b> command, that is,
the equivalent of supplying &quot;-c ''&quot; on the command
line. When on, an empty line is interpreted as a call to the
<b>go</b> command. This feature is not recommended but is
supplied for completeness.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<i>maxlen</i> <b>(int)</b> Controls the maximum amount of
data that will be displayed (in any display mode) in a
single column. This setting will automatically truncate the
output of particularly large datatypes (such as TEXT) to the
value supplied. The default setting is 8192 bytes
(8KB).</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<i>output_parms</i> <b>(boolean)</b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="30%"></td><td width="70%">
Flag used to enable to disable the display of output
parameter result sets from stored procedures. The default is
to enable the display.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<i>packet_size</i> <b>(int)</b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="30%"></td><td width="70%">
Defines the size of the TDS packets used to communicate with
SQL. Changing the value of the variable will not affect the
current connection but will take effect upon the next
<b>reconnect</b> command. Specifying a value of NULL
indicates that the default packet size is
desired.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<i>password</i> <b>(string/write-only)</b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="30%"></td><td width="70%">
This is the users current password. A NULL password may be
assigned using an explicit &quot;NULL&quot; string. For
security reasons, when referenced the <b>$password</b>
variable will always expand to the string
&quot;password&quot;.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<i>prompt</i> <b>(string)</b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="30%"></td><td width="70%">
This variable is used by <i>sqsh</i> to build your current
prompt. Any variables contain within <b>$prompt</b> are
expanded each time the prompt is displayed. The default
value for this is `${lineno}&gt; '.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<i>prompt2</i> <b>(string)</b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="30%"></td><td width="70%">
This contents of this prompt are expanded and displayed
during interactive use when <i>sqsh</i> requires additional
input, such as during a line continuation. The default value
is `--&gt; '.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<i>rcfile</i> <b>(path)</b> Contains a colon (:) delimited
list of sqsh resource (sqshrc) files. The default setting is
/usr/local/etc/sqshrc (unless overridden by the --prefix
option when sqsh was compiled) followed by
<b>$HOME</b>/.sqshrc).</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<i>readline_history</i> <b>(string)</b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="30%"></td><td width="70%">
If readline support has been compiled into <i>sqsh</i>, the
contents of the readline line-by- line history will be
written to the file specified by the
<b>$readline_history</b> variable. The default is
<b>$HOME/.sqsh_readline</b>.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<i>readline_histsize</i> <b>(int)</b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="30%"></td><td width="70%">
If readline support has been compiled into <i>sqsh</i>, the
value of <b>$readline_histsize</b> specifies the number of
lines that are saved in the readline line-by-line history.
Setting this to a value of 0 causes every line to be saved.
The default value is 100.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<i>real</i> <b>(float-format)</b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="30%"></td><td width="70%">
Defines the display format (the precision and scale) for all
real values displayed by sqsh. The default is `18.6'. Note
that values exceeding the defined precision are not
truncated, so setting this value too low may cause columns
in a result set to be miss- aligned.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<i>repeat_batch</i> <b>(boolean)</b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="30%"></td><td width="70%">
When set to <b>On</b> or <b>True</b>, a <b>go</b> executed
with an empty <b>SQL Buffer</b> will cause the previous
batch to be re-executed.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<i>script</i> <b>(string)</b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="30%"></td><td width="70%">
If <i>sqsh</i> is run using the <b>-i</b> flag, then this
variable contains the name of the script being
executed.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<i>statistics</i> <b>(boolean)</b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="30%"></td><td width="70%">
Setting <b>$statistics</b> to 1 causes timing statistics to
be displayed upon the successful execution of every batch of
SQL. This variable may also be set via the <b>-t</b> command
line flag, or by supplying <b>-t</b> to the <b>go</b>
command. <b>$statistics</b> defaults to 0.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<i>semicolon_cmd</i> <b>(string)</b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="30%"></td><td width="70%">
When <b>$semicolon_hack</b> (see below) is enabled, this
contents of this variable is executed when a semicolon is
encountered in the <b>SQL Buffer</b>. This variable defaults
to the string `<b>go</b>'.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<i>semicolon_hack</i> <b>(boolean)</b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="30%"></td><td width="70%">
Toggles on the ability to use a `;' as an in-line command
terminator. This feature is not recommended and is only in
here because enough users complained. See section
<b>COMMANDS, In-Line Go</b>.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<i>SHELL</i> <b>(string)</b> The name of the shell to be
used to execute pipes and to be used by the <b>shell</b>
command (default `/bin/sh').</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<i>style</i> <b>(string)</b> Selects result set display
style. Currently six styles are supported. The <b>horiz</b>
(which may also be defined as <b>hor</b> or
<b>horizontal</b>), closely resembles the output of isql,
with the traditional columnar output.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
The <b>vert</b> (or <b>vertical</b>) style rotates the
output, so that every line is represented by a column name
followed by a column value. This is nice for looking at
particularly wide output.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
The <b>bcp</b> style displays results in a format amenable
to bcp'ing the result set back into another table. That is,
every column value is separated by <b>$bcp_colsep</b> with
the final column separated by <b>$bcp_rowsep</b> followed by
a newline (n). If <b>$bcp_colsep</b> or <b>$bcp_rowsep</b>
are not defined then `|' is used as the default separator.
Note that this output does not work well with COMPUTE
columns, and uses the default conversion methods for all
data types (that is, <b>datetime</b> columns may truncate
the millisecond).</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
The <b>html</b> display style outputs all result sets in the
form of an HTML &lt;TABLE&gt; construct. This mode is ideal
for the use of sqsh as a CGI application.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
The <b>meta</b> display style outputs only the meta- data
information associated with the result and discards the
actual row results. This mode is useful for debugging the
result sets generated from a full passthru Open Server
gateway, or for those interested in what is really coming
back from the server.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
The <b>pretty</b> display style generates a fluffy
table-like output using regular ASCII characters for
borders. This mode does not perform any explicit column
wrapping, like the <b>horiz</b> display mode. However, the
<b>$colwidth</b> variable can be used to control the maximum
width of a given column on the screen. If the column exceeds
<b>$colwidth</b> characters wide, it is wrapped in a
relatively visually appealing manner. Note that
<b>$colwidth</b> may be exceeded if there is enough screen
width to hold the columns without wrapping.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
The <b>none</b> display style suppresses all results from
being displayed (however it does actually retrieve result
information from the SQL Server). This is particularly
useful when used with the <b>-p</b> flag (or the
<b>$statistics</b> variable) for gathering accurate
performance statistics.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<i>thresh_display</i> <b>(int)</b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="30%"></td><td width="70%">
Sets the minimum SQL Server error severity that will display
a message to the user, the default is 0 and valid ranges are
between 0 and 22, inclusive.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<i>thresh_exit</i> <b>(int)</b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="30%"></td><td width="70%">
Defines the maximum number of errors of severity level
<b>$thresh_fail</b> may be encountered before sqsh aborts.
This is useful primarily for non-interactive scripts, but is
allowed on an interactive session. Setting
<b>$thresh_exit</b> to a value of 0 disables this feature.
See section <b>EXIT STATUS</b> for details.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<i>thresh_fail</i> <b>(int)</b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="30%"></td><td width="70%">
Sets the minimum SQL Server severity level that is to be
considered a failed batch. The minimum for this value is 0
(meaning any error that is not an information message), and
the maximum is 22. Whenever <b>$thresh_fail</b> is crossed,
the variable <b>$batch_failcount</b> is incremented by 1.
See section <b>EXIT STATUS</b> for details.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<i>time</i> <b>(date-spec)</b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="30%"></td><td width="70%">
This variable may be set with a time format (see the man
page for <b>date(1)</b>), and the variable expands to the
current time in the supplied format. The default format for
this variable is %H:%M:%S (e.g. 14:32:58).</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<i>tmp_dir</i> <b>(path)</b> This contains the directory to
which temporary files used internally by <i>sqsh</i> are to
be written. These files are generated either during buffer
editing (the <b>buf-edit</b> command), or to maintain output
defer files for background jobs. The default value for this
variable is /tmp.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<i>username</i> <b>(string)</b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="30%"></td><td width="70%">
The name of the user currently connected to the
database.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<i>version</i> <b>(none)</b> This read-only variable
contains the current version number.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<i>width</i> <b>(int)</b> The current width of the SQL
output.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<i>xgeom</i> <b>(string/int)</b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="30%"></td><td width="70%">
If X11 support is compiled into <b>sqsh</b>, this value is
used to configure the default window size (in characters) of
the X display. This variable must be of the format
<i>WW</i>x<i>HH</i> or just <i>WW</i>, where <i>WW</i> is
the width of the window and <i>HH</i> is the height of the
window. If the height of the window is not supplied, then 25
lines is assumed. If <b>$xgeom</b> is not set, then
<b>$width</b> is used as the default width and the height is
assumed to be 25. If neither is set, then 80x25 is
assumed.</td></table>

<p><b><small>SCRIPT
EXECUTION</small></b><table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
As with most shells, <i>sqsh</i> allows a file containing
SQL and script commands to be executed directly via the
magical UNIX <b>#!</b> convention.</td></table>
</p>
<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
On most UNIX platforms, when the operating system encounters the bytes <b>#!</b> as the first two bytes of an executable file it will automatically pipe the file through the interpreter specified immediately after the <b>#!</b>. For example, to create an executable <i>sqsh</i> script to run <b>sp_who</b>, you simply need to create a file like so:</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="15%"></td><td width="85%">
<pre>#!/usr/local/bin/sqsh -i

sp_who

go
</pre></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
Thus, if your <b>sp_who</b> script is executed directly, it
will automatically launch &quot;<b>/usr/local/bin/sqsh -i
sp_who</b>&quot; for you.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
And, to make things even more flexible, <i>sqsh</i> supports
positional parameters, similar to most shells, of the form
<b>${n}</b> which will expand to the <b>n</b>th argument to
your <i>sqsh</i> script. For example:</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="15%"></td><td width="85%">
<pre>#!/usr/local/bin/sqsh -i

sp_who ${1}

go
</pre></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
will cause the <b>sp_who</b> stored procedure to be executed
with an argument of the first command line parameter
supplied to the <b>sp_who</b> shell script.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
Note that positional parameters <i>must</i> be contained
between braces to avoid conflicts with the TSQL <b>money</b>
data type (without the braces, the variable will not be
expanded).</td></table>

<p><b><small>EXIT
STATUS</small></b><table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
One of the major complaints of <i>isql</i> is that it
provides no facility to detect when an error condition
occurred while it is performing processing. <i>sqsh</i>
provides a rather complex, but flexible mechanism for
returning meaningful information concerning its reason for
exit in the form of an exit status (see
<b>exit(3)</b>).</td></table>
</p>
<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
When <i>sqsh</i> begins execution two handlers are associated with the current connection to the database, one is a message handler which is responsible for displaying the text of any SQL Server messages or errors, and the other is an error handler, which is responsible for determining what to do with an error condition (bear with me, these are only loose descriptions). And, associated with each message and error condition is a severity level, between 0 and 22 (informational message to fatal condition).</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
Associated with these two message handlers are several
variables that are used to either control their behavior, or
are used as indicators by the message handler:</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>$thresh_display</b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="15%"></td><td width="85%">
This variable is used by the message handler to determine
the minimum error severity which will cause a message to be
displayed. By default this is 0, which will display all
messages (with a couple of exceptions). Setting this to 1,
for example, would suppress information messages such as the
output of <b>set showplan</b>.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>$thresh_fail</b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="15%"></td><td width="85%">
This variable is used by the error handler to determine
which error severity is considered by <i>sqsh</i> to be a
failure. Normally, this defaults to 11 which indicates that
any error, other than informational messages, is a failure.
The next variable will explain the importance of this
value.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>$batch_failcount</b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="15%"></td><td width="85%">
This variable should be considered read-only, and contains
the total number of times that batches have caused an error
of severity <b>$thresh_fail</b> or more. The only value that
is valid to explicitly set this to is &quot;&quot; (the
empty string), which will reset this value to 0, any other
value may have unpredictable results.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>$thresh_exit</b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="15%"></td><td width="85%">
This variable is used to determine the limit at which
<b>$batch_failcount</b> will cause <i>sqsh</i> to exit. If
<b>$thresh_exit</b> is 0, then this feature is disabled. In
other words, if <b>$batch_failcount</b> ==
<b>$thresh_exit</b> and <b>$thresh_exit</b> is greater than
0, then <i>sqsh</i> will exit, returning
<b>$batch_failcount</b> as an exit status.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="15%"></td><td width="85%">
Note that, unless <b>$exit_failcount</b> is set to 1,
<i>sqsh</i> will exit with 0 if the total number of failures
does not reach <b>$thresh_exit.</b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>$exit_failcount</b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="15%"></td><td width="85%">
This variable is used only when <i>sqsh</i> would normally
exit with a success status (0), this causes it to instead
exit with a value of <b>$batch_failout</b> (which may,
itself, be 0).</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
To recap, here are a list of error codes that may be
returned by <i>sqsh</i> upon exit, and the reason that they
could be returned:</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>0</b> No error has been encountered.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>1..253</b> Between 1 and 253 batches have failed (if you
run more than 253 batches, the exit status of sqsh is
undetermined...I may fix this in the future).</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>254</b> An explicit <b>abort</b> was called, or a SIGINT
(^C) was issued during a non-interactive
session.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
<b>255</b> A general error condition has occurred, such as a
bad command line argument to sqsh, memory allocation
failure, file access error, etc.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
The following sections provide detailed examples of
combinations of variable settings and the results produced
upon exit with certain failure conditions:</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="3%"></td><td width="97%">
<b><small>thresh_display=0, thresh_fail=0,
thresh_exit=1</small></b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
With this combination, all error messages will be displayed
as they happen, and every error will be considered an
failure condition. Upon reaching the first error,
<i>sqsh</i> will abort with an exit status of 1, or the
total number of failures (the <b>$batch_failcount</b>
variable). However, if nothing goes wrong during the whole
process, a zero is returned.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="3%"></td><td width="97%">
<b><small>thresh_display=0, thresh_fail=0,
thresh_exit=3</small></b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
This combination will cause all error conditions to be
displayed and all of them to be considered a failure
condition. Upon reaching three total failed batches,
<i>sqsh</i> with exit with a status of 3. However if 0, 1,
or 2 batches fail, then 0 is returned.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="3%"></td><td width="97%">
<b><small>thresh_display=22, thresh_fail=0,
thresh_exit=3</small></b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
This behaves the same as the previous example, with the
exception that all error messages will be suppressed from
being displayed. This is particularly useful if you just
care about the exit value more than the actual
error.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="3%"></td><td width="97%">
<b><small>thresh_display=0, thresh_fail=2,
thresh_exit=1</small></b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
This will cause the first error of severity 2 or higher to
be displayed and cause <i>sqsh</i> to exit with a failure
condition of 1.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="3%"></td><td width="97%">
<b><small>thresh_display=0, thresh_fail=0, thresh_exit=3,
exit_failcount=1</small></b></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
This is identical to the second example, above, however
<i>sqsh</i> will return the total number of batches that
failed even if <b>$batch_failcount</b> does not reach
3.</td></table>


<p><b><small>FILES</small>$HOME/.sqshrc</b><table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
, <b>$HOME/.sqsh_session</b>, <b>$HOME/.sqsh_history</b>,
<b>$HOME/.sqsh_readline</b>, <b>$HOME/.sqsh_words</b>,
<b>$tmp_dir/sqsh-dfr.</b>,
<b>$tmp_dir/sqsh-edit.</b></td></table>
</p>


<p><b><small>BUGS</small></b><table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
The addition of flow-of-control expressions has extended
sqsh <i>way</i> beyond the scope of its original design, and
it is quite obvious from using the features they are hacked
in and are rather klunky (although still quite usable). As a
result, the processing of these expressions is rather slow
(when compared to bourne shell), and the error reporting
doesn't lend itself to debugging large scripts. The
development of 1000+ line scripts is
discouraged.</td></table>
</p>
<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
The combination of backgrounding and pipes does not work properly right now. I know why this is happening, but haven't determined an elegant solution to it just yet. What happens is, when a background job is run that incorporates a pipe-line, <i>sqsh</i> will suspend until the job is complete, which is obviously not what you would desire. To test this, try the following:</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="15%"></td><td width="85%">
<pre>1&gt; select  from syscolumns

2&gt; go | grep id &amp;
</pre></td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
You will find that you do not get your prompt back until the
job completes. If you want a technical explanation of why
this is happening, send me e-mail at the address at the
end.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
I would like to support all of the flags available in
<b>isql</b> right now. This shouldn't be very
hard.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
No complaints about spelling or grammar. I hate
documentation, so count yourself lucky that you have a
manual page at all.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
I know that there are more lurking out there; if you find
any please send e-mail to gray@voicenet.com, or grays@xtend-
tech.com and I'll jump on them.</td></table>

<table width="100%" border=0 rules="none" frame="void"
       cols="2" cellspacing="0" cellpadding="0">
<tr valign="top" align="left">
<td width="7%"></td><td width="93%">
Version 2.0 Last change: 04 Sep 1999 2</td></table>
<hr>
</body>
</html>
